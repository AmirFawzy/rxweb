/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Linq = /** @class */ (function () {
    function Linq() {
    }
    /**
     * @param {?} expression
     * @return {?}
     */
    Linq.functionCreator = /**
     * @param {?} expression
     * @return {?}
     */
    function (expression) {
        var /** @type {?} */ functionSetter = [];
        var /** @type {?} */ match = expression.match(/^\s*\(?\s*([^)]*)\s*\)?\s*=>(.*)/);
        var /** @type {?} */ splitSelect = match[2].split(",");
        for (var /** @type {?} */ i = 0; i < splitSelect.length; i++) {
            var /** @type {?} */ equalToOperator = splitSelect[i].match(/^\s*\(?\s*([^)]*)\s*\)?\s*==(.*)/);
            if (equalToOperator !== null) {
                functionSetter = new Function(match[1], "return " + equalToOperator[0]);
            }
            else {
                equalToOperator = splitSelect[i].match(/^\s*\(?\s*([^)]*)\s*\)?\s*=(.*)/);
                if (equalToOperator === null) {
                    functionSetter = new Function(match[1], "return " + splitSelect[i]);
                }
                else {
                    functionSetter = new Function(match[1], "return " + equalToOperator[2]);
                }
            }
        }
        if (splitSelect.length == 0)
            functionSetter = { accessFunction: new Function(match[1], "return " + match[2]) };
        return functionSetter;
    };
    /**
     * @param {?} jObject
     * @param {?} expression
     * @param {?} parentObject
     * @return {?}
     */
    Linq.IsPassed = /**
     * @param {?} jObject
     * @param {?} expression
     * @param {?} parentObject
     * @return {?}
     */
    function (jObject, expression, parentObject) {
        var /** @type {?} */ expressionFunction = expression;
        if (parentObject && typeof expression == "string")
            expressionFunction = Linq.functionCreator(expression);
        if (parentObject && expressionFunction)
            return expressionFunction(parentObject, jObject);
        return true;
    };
    /**
     * @param {?} expression
     * @return {?}
     */
    Linq.expressionColumns = /**
     * @param {?} expression
     * @return {?}
     */
    function (expression) {
        var /** @type {?} */ columns = [];
        var /** @type {?} */ splitExpressions = [];
        if (typeof expression == "string")
            expression.split("=>")[1].split(" && ").forEach(function (t) {
                t.split(" || ").forEach(function (x) {
                    splitExpressions.push(x.trim().split(' ')[0]);
                });
            });
        else
            String(expression).split(" return ")[1].split(" && ").forEach(function (t) {
                t.split(" || ").forEach(function (x) {
                    splitExpressions.push(x.trim().split(' ')[0]);
                });
            });
        splitExpressions.forEach(function (t) {
            var /** @type {?} */ splitText = t.split('.');
            if (splitText.length == 2)
                columns.push({ propName: splitText[1].trim() });
            else {
                var /** @type {?} */ arrayProp = splitText[1].split('[');
                var /** @type {?} */ jObject = {
                    propName: splitText[splitText.length - 1].trim(),
                    objectPropName: arrayProp[0],
                    arrayIndex: arrayProp.length > 1 ? arrayProp[1].replace("]", "") : undefined
                };
                columns.push(jObject);
            }
        });
        return columns;
    };
    return Linq;
}());
export { Linq };

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlucS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvIiwic291cmNlcyI6WyJ1dGlsL2xpbnEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUE7Ozs7Ozs7SUFDVyxvQkFBZTs7OztJQUF0QixVQUF1QixVQUFVO1FBQzdCLHFCQUFJLGNBQWMsR0FBUSxFQUFFLENBQUM7UUFDN0IscUJBQUksS0FBSyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsa0NBQWtDLENBQUMsQ0FBQztRQUNqRSxxQkFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsQ0FBQyxxQkFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDMUMscUJBQUksZUFBZSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsa0NBQWtDLENBQUMsQ0FBQztZQUMvRSxFQUFFLENBQUMsQ0FBQyxlQUFlLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsY0FBYyxHQUFHLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDM0U7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDSixlQUFlLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO2dCQUMxRSxFQUFFLENBQUMsQ0FBQyxlQUFlLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDM0IsY0FBYyxHQUFHLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxD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LEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFO29CQUNoRCxjQUFjLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztvQkFDNUIsVUFBVSxFQUFFLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUztpQkFDL0UsQ0FBQTtnQkFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQ3pCO1NBQ0osQ0FBQyxDQUFBO1FBQ0YsTUFBTSxDQUFDLE9BQU8sQ0FBQztLQUNsQjtlQTdETDtJQStEQyxDQUFBO0FBL0RELGdCQStEQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBMaW5xIHtcclxuICAgIHN0YXRpYyBmdW5jdGlvbkNyZWF0b3IoZXhwcmVzc2lvbik6IGFueSB7XHJcbiAgICAgICAgdmFyIGZ1bmN0aW9uU2V0dGVyOiBhbnkgPSBbXTtcclxuICAgICAgICB2YXIgbWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKC9eXFxzKlxcKD9cXHMqKFteKV0qKVxccypcXCk/XFxzKj0+KC4qKS8pO1xyXG4gICAgICAgIHZhciBzcGxpdFNlbGVjdCA9IG1hdGNoWzJdLnNwbGl0KFwiLFwiKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0U2VsZWN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlcXVhbFRvT3BlcmF0b3IgPSBzcGxpdFNlbGVjdFtpXS5tYXRjaCgvXlxccypcXCg/XFxzKihbXildKilcXHMqXFwpP1xccyo9PSguKikvKTtcclxuICAgICAgICAgICAgaWYgKGVxdWFsVG9PcGVyYXRvciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb25TZXR0ZXIgPSBuZXcgRnVuY3Rpb24obWF0Y2hbMV0sIFwicmV0dXJuIFwiICsgZXF1YWxUb09wZXJhdG9yWzBdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVxdWFsVG9PcGVyYXRvciA9IHNwbGl0U2VsZWN0W2ldLm1hdGNoKC9eXFxzKlxcKD9cXHMqKFteKV0qKVxccypcXCk/XFxzKj0oLiopLyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXF1YWxUb09wZXJhdG9yID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25TZXR0ZXIgPSBuZXcgRnVuY3Rpb24obWF0Y2hbMV0sIFwicmV0dXJuIFwiICsgc3BsaXRTZWxlY3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblNldHRlciA9IG5ldyBGdW5jdGlvbihtYXRjaFsxXSwgXCJyZXR1cm4gXCIgKyBlcXVhbFRvT3BlcmF0b3JbMl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzcGxpdFNlbGVjdC5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgZnVuY3Rpb25TZXR0ZXIgPSB7IGFjY2Vzc0Z1bmN0aW9uOiBuZXcgRnVuY3Rpb24obWF0Y2hbMV0sIFwicmV0dXJuIFwiICsgbWF0Y2hbMl0pIH07XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uU2V0dGVyO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIElzUGFzc2VkKGpPYmplY3Q6IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGV4cHJlc3Npb246IGFueSwgcGFyZW50T2JqZWN0OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IGV4cHJlc3Npb25GdW5jdGlvbjogRnVuY3Rpb24gPSBleHByZXNzaW9uO1xyXG4gICAgICAgIGlmIChwYXJlbnRPYmplY3QgJiYgdHlwZW9mIGV4cHJlc3Npb24gPT0gXCJzdHJpbmdcIilcclxuICAgICAgICAgICAgZXhwcmVzc2lvbkZ1bmN0aW9uID0gTGlucS5mdW5jdGlvbkNyZWF0b3IoZXhwcmVzc2lvbik7XHJcbiAgICAgICAgaWYgKHBhcmVudE9iamVjdCAmJiBleHByZXNzaW9uRnVuY3Rpb24pXHJcbiAgICAgICAgICAgIHJldHVybiBleHByZXNzaW9uRnVuY3Rpb24ocGFyZW50T2JqZWN0LCBqT2JqZWN0KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZXhwcmVzc2lvbkNvbHVtbnMoZXhwcmVzc2lvbjogYW55KSB7XHJcbiAgICAgICAgdmFyIGNvbHVtbnMgPSBbXTtcclxuICAgICAgICBsZXQgc3BsaXRFeHByZXNzaW9ucyA9IFtdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXhwcmVzc2lvbiA9PSBcInN0cmluZ1wiKVxyXG4gICAgICAgIGV4cHJlc3Npb24uc3BsaXQoXCI9PlwiKVsxXS5zcGxpdChcIiAmJiBcIikuZm9yRWFjaCh0ID0+IHtcclxuICAgICAgICAgICAgdC5zcGxpdChcIiB8fCBcIikuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgICAgIHNwbGl0RXhwcmVzc2lvbnMucHVzaCh4LnRyaW0oKS5zcGxpdCgnICcpWzBdKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIFN0cmluZyhleHByZXNzaW9uKS5zcGxpdChcIiByZXR1cm4gXCIpWzFdLnNwbGl0KFwiICYmIFwiKS5mb3JFYWNoKHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdC5zcGxpdChcIiB8fCBcIikuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzcGxpdEV4cHJlc3Npb25zLnB1c2goeC50cmltKCkuc3BsaXQoJyAnKVswXSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHNwbGl0RXhwcmVzc2lvbnMuZm9yRWFjaCh0ID0+IHtcclxuICAgICAgICAgICAgdmFyIHNwbGl0VGV4dCA9IHQuc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgaWYgKHNwbGl0VGV4dC5sZW5ndGggPT0gMilcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaCh7IHByb3BOYW1lOiBzcGxpdFRleHRbMV0udHJpbSgpIH0pO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcnJheVByb3AgPSBzcGxpdFRleHRbMV0uc3BsaXQoJ1snKTtcclxuICAgICAgICAgICAgICAgIGxldCBqT2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BOYW1lOiBzcGxpdFRleHRbc3BsaXRUZXh0Lmxlbmd0aCAtIDFdLnRyaW0oKSxcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3RQcm9wTmFtZTogYXJyYXlQcm9wWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5SW5kZXg6IGFycmF5UHJvcC5sZW5ndGggPiAxID8gYXJyYXlQcm9wWzFdLnJlcGxhY2UoXCJdXCIsIFwiXCIpIDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zLnB1c2goak9iamVjdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBjb2x1bW5zO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=