(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/forms')) :
    typeof define === 'function' && define.amd ? define('@rxweb/reactive-form-validators', ['exports', '@angular/core', '@angular/forms'], factory) :
    (factory((global.rxweb = global.rxweb || {}, global.rxweb['reactive-form-validators'] = {}),global.ng.core,global.ng.forms));
}(this, (function (exports,core,forms) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    function __values(o) {
        var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
        if (m)
            return m.call(o);
        return {
            next: function () {
                if (o && i >= o.length)
                    o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var CreditCardRegex = (function () {
        function CreditCardRegex() {
            this.Visa = new RegExp('^(?:4[0-9]{12})(?:[0-9]{3})?$');
            this.AmericanExpress = new RegExp('^(?:3[47][0-9]{13})$');
            this.Maestro = new RegExp('^(?:(?:5[0678]\\d\\d|6304|6390|67\\d\\d)\\d{8,15})$');
            this.JCB = new RegExp('^(?:(?:2131|1800|35\\d{3})\\d{11})$');
            this.Discover = new RegExp('^(?:6(?:011|5[0-9]{2})(?:[0-9]{12}))$');
            this.DinersClub = new RegExp('^(?:3(?:0[0-5]|[68][0-9])[0-9]{11})$');
            this.MasterCard = new RegExp('^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$');
        }
        return CreditCardRegex;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ RegExRule = {
        alpha: /^[a-zA-Z]+$/,
        alphaWithSpace: /^[a-zA-Z\s]+$/,
        onlyDigit: /^[0-9]+$/,
        isDigitExits: /\d/g,
        lowerCase: /[a-z]/g,
        upperCase: /[A-Z]/g,
        specialCharacter: /[!@#$%^&*(),.?":{}|<>]/g,
        advancedEmail: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,
        basicEmail: /^(([^<>()\[\]\\.,,:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
        alphaNumeric: /^[0-9a-zA-Z]+$/,
        alphaNumericWithSpace: /^[0-9a-zA-Z\s]+$/,
        hexColor: /#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})\b/gi,
        strictHexColor: /^#([a-f0-9]{3,4}|[a-f0-9]{4}(?:[a-f0-9]{2}){1,2})\b$/i,
        float: /^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,
        decimal: /^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,
        hexaDecimal: /^[0-9A-F]+$/i,
        date: /^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,
        time: /(00|[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/,
        url: /^^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm,
        creditCard: new CreditCardRegex(),
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ ALPHABET = "alphabet";
    var /** @type {?} */ DIGIT = "digit";
    var /** @type {?} */ CONTAINS = "contains";
    var /** @type {?} */ LOWERCASE = "lowerCase";
    var /** @type {?} */ UPPERCASE = "upperCase";
    var /** @type {?} */ SPECIAL_CHARACTER = "specialCharacter";
    var /** @type {?} */ MIN_LENGTH = "minLength";
    var /** @type {?} */ MAX_LENGTH = "maxLength";
    var RegexValidator = (function () {
        function RegexValidator() {
        }
        /**
         * @param {?} value
         * @param {?} regex
         * @return {?}
         */
        RegexValidator.isExits = /**
         * @param {?} value
         * @param {?} regex
         * @return {?}
         */
            function (value, regex) {
                return value.match(regex) != null;
            };
        /**
         * @param {?} value
         * @param {?} regex
         * @return {?}
         */
        RegexValidator.isValid = /**
         * @param {?} value
         * @param {?} regex
         * @return {?}
         */
            function (value, regex) {
                return regex.test(value);
            };
        /**
         * @param {?} value
         * @return {?}
         */
        RegexValidator.isNotBlank = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return value != undefined && value != "" && value != null;
            };
        /**
         * @param {?} passwordValidation
         * @param {?} value
         * @return {?}
         */
        RegexValidator.isValidPassword = /**
         * @param {?} passwordValidation
         * @param {?} value
         * @return {?}
         */
            function (passwordValidation, value) {
                var /** @type {?} */ isValid = false;
                var /** @type {?} */ keyName = "status";
                var /** @type {?} */ objectProperties = Object.getOwnPropertyNames(passwordValidation);
                try {
                    for (var objectProperties_1 = __values(objectProperties), objectProperties_1_1 = objectProperties_1.next(); !objectProperties_1_1.done; objectProperties_1_1 = objectProperties_1.next()) {
                        var propertyName = objectProperties_1_1.value;
                        switch (propertyName) {
                            case ALPHABET:
                                isValid = RegexValidator.isExits(value, RegExRule["alpha"]);
                                keyName = ALPHABET;
                                break;
                            case DIGIT:
                                isValid = RegexValidator.isValid(value, RegExRule["isDigitExits"]);
                                keyName = DIGIT;
                                break;
                            case CONTAINS:
                                isValid = value.indexOf(passwordValidation[CONTAINS]) != -1;
                                keyName = CONTAINS;
                                break;
                            case LOWERCASE:
                                isValid = RegexValidator.isValid(value, RegExRule["lowerCase"]);
                                keyName = LOWERCASE;
                                break;
                            case UPPERCASE:
                                isValid = RegexValidator.isValid(value, RegExRule["upperCase"]);
                                keyName = UPPERCASE;
                                break;
                            case SPECIAL_CHARACTER:
                                isValid = RegexValidator.isExits(value, RegExRule["specialCharacter"]);
                                keyName = SPECIAL_CHARACTER;
                                break;
                            case MIN_LENGTH:
                                isValid = value.length >= passwordValidation[propertyName];
                                keyName = MIN_LENGTH;
                                break;
                            case MAX_LENGTH:
                                isValid = value.length <= passwordValidation[propertyName];
                                keyName = MAX_LENGTH;
                                break;
                        }
                        if (!isValid)
                            break;
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (objectProperties_1_1 && !objectProperties_1_1.done && (_a = objectProperties_1.return))
                            _a.call(objectProperties_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return { isValid: isValid, keyName: keyName };
                var e_1, _a;
            };
        return RegexValidator;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var ReactiveFormConfig = (function () {
        function ReactiveFormConfig() {
        }
        /**
         * @param {?} jObject
         * @return {?}
         */
        ReactiveFormConfig.set = /**
         * @param {?} jObject
         * @return {?}
         */
            function (jObject) {
                if (jObject)
                    ReactiveFormConfig.json = jObject;
            };
        ReactiveFormConfig.json = {};
        return ReactiveFormConfig;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var ObjectMaker = (function () {
        function ObjectMaker() {
        }
        /**
         * @param {?} key
         * @param {?} message
         * @param {?} values
         * @return {?}
         */
        ObjectMaker.toJson = /**
         * @param {?} key
         * @param {?} message
         * @param {?} values
         * @return {?}
         */
            function (key, message, values) {
                var /** @type {?} */ messageText = (message) ? message : (ReactiveFormConfig && ReactiveFormConfig.json && ReactiveFormConfig.json["validationMessage"] && ReactiveFormConfig.json["validationMessage"][key]) ? ReactiveFormConfig.json["validationMessage"][key] : '';
                values.forEach(function (t, index) {
                    messageText = messageText.replace("{{" + index + "}}", t);
                });
                var /** @type {?} */ jObject = {};
                jObject[key] = {
                    message: messageText, refValues: values
                };
                return jObject;
            };
        /**
         * @return {?}
         */
        ObjectMaker.null = /**
         * @return {?}
         */
            function () {
                return null;
            };
        return ObjectMaker;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var Linq = (function () {
        function Linq() {
        }
        /**
         * @param {?} expression
         * @return {?}
         */
        Linq.functionCreator = /**
         * @param {?} expression
         * @return {?}
         */
            function (expression) {
                var /** @type {?} */ functionSetter = [];
                var /** @type {?} */ match = expression.match(/^\s*\(?\s*([^)]*)\s*\)?\s*=>(.*)/);
                var /** @type {?} */ splitSelect = match[2].split(",");
                for (var /** @type {?} */ i = 0; i < splitSelect.length; i++) {
                    var /** @type {?} */ equalToOperator = splitSelect[i].match(/^\s*\(?\s*([^)]*)\s*\)?\s*==(.*)/);
                    if (equalToOperator !== null) {
                        functionSetter = new Function(match[1], "return " + equalToOperator[0]);
                    }
                    else {
                        equalToOperator = splitSelect[i].match(/^\s*\(?\s*([^)]*)\s*\)?\s*=(.*)/);
                        if (equalToOperator === null) {
                            functionSetter = new Function(match[1], "return " + splitSelect[i]);
                        }
                        else {
                            functionSetter = new Function(match[1], "return " + equalToOperator[2]);
                        }
                    }
                }
                if (splitSelect.length == 0)
                    functionSetter = { accessFunction: new Function(match[1], "return " + match[2]) };
                return functionSetter;
            };
        /**
         * @param {?} jObject
         * @param {?} expression
         * @param {?} parentObject
         * @return {?}
         */
        Linq.IsPassed = /**
         * @param {?} jObject
         * @param {?} expression
         * @param {?} parentObject
         * @return {?}
         */
            function (jObject, expression, parentObject) {
                var /** @type {?} */ expressionFunction = expression;
                if (parentObject && typeof expression == "string")
                    expressionFunction = Linq.functionCreator(expression);
                if (parentObject && expressionFunction)
                    return expressionFunction(parentObject, jObject);
                return true;
            };
        /**
         * @param {?} expression
         * @return {?}
         */
        Linq.expressionColumns = /**
         * @param {?} expression
         * @return {?}
         */
            function (expression) {
                var /** @type {?} */ columns = [];
                var /** @type {?} */ splitExpressions = [];
                if (typeof expression == "string")
                    expression.split("=>")[1].split(" && ").forEach(function (t) {
                        t.split(" || ").forEach(function (x) {
                            splitExpressions.push(x.trim().split(' ')[0]);
                        });
                    });
                else
                    String(expression).split(" return ")[1].split(" && ").forEach(function (t) {
                        t.split(" || ").forEach(function (x) {
                            splitExpressions.push(x.trim().split(' ')[0]);
                        });
                    });
                splitExpressions.forEach(function (t) {
                    var /** @type {?} */ splitText = t.split('.');
                    if (splitText.length == 2)
                        columns.push({ propName: splitText[1].trim() });
                    else {
                        var /** @type {?} */ arrayProp = splitText[1].split('[');
                        var /** @type {?} */ jObject = {
                            propName: splitText[splitText.length - 1].trim(),
                            objectPropName: arrayProp[0],
                            arrayIndex: arrayProp.length > 1 ? arrayProp[1].replace("]", "") : undefined
                        };
                        columns.push(jObject);
                    }
                });
                return columns;
            };
        return Linq;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var ApplicationUtil = (function () {
        function ApplicationUtil() {
        }
        /**
         * @param {?} control
         * @return {?}
         */
        ApplicationUtil.getParentObjectValue = /**
         * @param {?} control
         * @return {?}
         */
            function (control) {
                if (control.parent) {
                    var /** @type {?} */ parent_1 = this.parentObjectValue(control.parent);
                    return parent_1.value;
                }
                return {};
            };
        /**
         * @param {?} control
         * @return {?}
         */
        ApplicationUtil.parentObjectValue = /**
         * @param {?} control
         * @return {?}
         */
            function (control) {
                if (!control.parent)
                    return control;
                else
                    control = this.parentObjectValue(control.parent);
                return control;
            };
        /**
         * @param {?} config
         * @return {?}
         */
        ApplicationUtil.getConfigObject = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                return (config != undefined && config != true) ? config : {};
            };
        return ApplicationUtil;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ AnnotationTypes = {
        numeric: 'numeric',
        required: 'required',
        minLength: 'minLength',
        maxLength: 'maxLength',
        minNumber: 'minNumber',
        maxNumber: 'maxNumber',
        pattern: 'pattern',
        password: 'password',
        compare: 'compare',
        minDate: 'minDate',
        maxDate: 'maxDate',
        alpha: 'alpha',
        alphaNumeric: 'alphaNumeric',
        email: 'email',
        hexColor: 'hexColor',
        lowerCase: 'lowerCase',
        url: 'url',
        upperCase: 'upperCase',
        nested: 'nested',
        propArray: 'propArray',
        propObject: 'propObject',
        contains: 'contains',
        range: 'range',
        custom: 'custom',
        digit: "digit",
        creditCard: "creditCard",
        time: "time",
        json: "json",
        greaterThan: "greaterThan",
        greaterThanEqualTo: "greaterThanEqualTo",
        lessThan: "lessThan",
        lessThanEqualTo: "lessThanEqualTo"
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @param {?} conditionalValidationProps
     * @return {?}
     */
    function alphaValidator(config, conditionalValidationProps) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    var /** @type {?} */ testResult = false;
                    if (!config.allowWhiteSpace)
                        testResult = RegexValidator.isValid(controlValue, RegExRule["alpha"]);
                    else
                        testResult = RegexValidator.isValid(controlValue, RegExRule["alphaWithSpace"]);
                    if (!testResult)
                        return ObjectMaker.toJson(AnnotationTypes["alpha"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function alphaNumericValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    var /** @type {?} */ testResult = true;
                    if (!config.allowWhiteSpace)
                        testResult = RegexValidator.isValid(controlValue, RegExRule["alphaNumeric"]);
                    else
                        testResult = RegexValidator.isValid(controlValue, RegExRule["alphaNumericWithSpace"]);
                    if (!testResult)
                        return ObjectMaker.toJson(AnnotationTypes["alphaNumeric"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function compareValidator(config) {
        return function (control) {
            var /** @type {?} */ compareControl = control.root.get([config.fieldName]);
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ compareControlValue = (compareControl) ? compareControl.value : '';
            if (RegexValidator.isNotBlank(controlValue)) {
                if (!(compareControl && compareControl.value === controlValue))
                    return ObjectMaker.toJson(AnnotationTypes["compare"], config.message || null, [controlValue, compareControlValue]);
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function containsValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (controlValue.indexOf(config.value) == -1)
                        return ObjectMaker.toJson(AnnotationTypes["contains"], config.message || null, [config.value, controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /** @enum {number} */
    var CreditCardType = {
        Visa: 1,
        AmericanExpress: 2,
        Maestro: 3,
        JCB: 4,
        Discover: 5,
        DinersClub: 6,
        MasterCard: 7,
    };
    CreditCardType[CreditCardType.Visa] = "Visa";
    CreditCardType[CreditCardType.AmericanExpress] = "AmericanExpress";
    CreditCardType[CreditCardType.Maestro] = "Maestro";
    CreditCardType[CreditCardType.JCB] = "JCB";
    CreditCardType[CreditCardType.Discover] = "Discover";
    CreditCardType[CreditCardType.DinersClub] = "DinersClub";
    CreditCardType[CreditCardType.MasterCard] = "MasterCard";

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function creditCardValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    var /** @type {?} */ isValid = false;
                    try {
                        for (var _a = __values(config.creditCardTypes), _b = _a.next(); !_b.done; _b = _a.next()) {
                            var creditCardType = _b.value;
                            switch (creditCardType) {
                                case CreditCardType.AmericanExpress:
                                    isValid = RegexValidator.isValid(controlValue, RegExRule["creditCard"].AmericanExpress);
                                    break;
                                case CreditCardType.DinersClub:
                                    isValid = RegexValidator.isValid(controlValue, RegExRule["creditCard"].DinersClub);
                                    break;
                                case CreditCardType.Discover:
                                    isValid = RegexValidator.isValid(controlValue, RegExRule["creditCard"].Discover);
                                    break;
                                case CreditCardType.JCB:
                                    isValid = RegexValidator.isValid(controlValue, RegExRule["creditCard"].JCB);
                                    break;
                                case CreditCardType.Maestro:
                                    isValid = RegexValidator.isValid(controlValue, RegExRule["creditCard"].Maestro);
                                    break;
                                case CreditCardType.MasterCard:
                                    isValid = RegexValidator.isValid(controlValue, RegExRule["creditCard"].MasterCard);
                                    break;
                                case CreditCardType.Visa:
                                    isValid = RegexValidator.isValid(controlValue, RegExRule["creditCard"].Visa);
                                    break;
                            }
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (_b && !_b.done && (_c = _a.return))
                                _c.call(_a);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                    if (!isValid)
                        return ObjectMaker.toJson(AnnotationTypes["creditCard"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
            var e_1, _c;
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function digitValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!RegexValidator.isValid(controlValue, RegExRule["onlyDigit"]))
                        return ObjectMaker.toJson(AnnotationTypes["digit"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function emailValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!RegexValidator.isValid(controlValue, RegExRule["basicEmail"]))
                        return ObjectMaker.toJson(AnnotationTypes["email"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function hexColorValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    var /** @type {?} */ hexRegex = config.isStrict ? RegExRule["strictHexColor"] : RegExRule["hexColor"];
                    if (!RegexValidator.isValid(controlValue, hexRegex))
                        return ObjectMaker.toJson(AnnotationTypes["hexColor"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function lowercaseValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!(controlValue === controlValue.toLowerCase()))
                        return ObjectMaker.toJson(AnnotationTypes["lowerCase"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function maxDateValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (RegexValidator.isValid(controlValue, RegExRule["date"])) {
                        var /** @type {?} */ maxDate = config.value;
                        if (!(function (maxDate) { return controlValue; }))
                            return ObjectMaker.toJson(AnnotationTypes["maxDate"], config.message || null, [control.value]);
                    }
                    else
                        return ObjectMaker.toJson(AnnotationTypes["maxDate"], config.message || null, [control.value]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function maxLengthValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!(controlValue.length <= config.value))
                        return ObjectMaker.toJson(AnnotationTypes["maxLength"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function maxNumberValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!(parseFloat(controlValue) <= config.value))
                        return ObjectMaker.toJson(AnnotationTypes["maxNumber"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function minDateValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (RegexValidator.isValid(controlValue, RegExRule["date"])) {
                        var /** @type {?} */ minDate = new Date(config.value);
                        var /** @type {?} */ currentControlValue = new Date(controlValue);
                        if (!(currentControlValue >= minDate))
                            return ObjectMaker.toJson(AnnotationTypes["minDate"], config.message || null, [control.value]);
                    }
                    else
                        return ObjectMaker.toJson(AnnotationTypes["minDate"], config.message || null, [control.value]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function minLengthValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!(String(controlValue).length >= config.value))
                        return ObjectMaker.toJson(AnnotationTypes["minLength"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function minNumberValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!(parseFloat(controlValue) >= config.value))
                        return ObjectMaker.toJson(AnnotationTypes["minNumber"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function passwordValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            if (RegexValidator.isNotBlank(controlValue)) {
                var /** @type {?} */ validation = RegexValidator.isValidPassword(config.validation, controlValue);
                if (!validation["isValid"])
                    return ObjectMaker.toJson(validation["keyName"], config.message || null, [controlValue]);
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function rangeValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!(String(controlValue).indexOf(".") == -1 && parseInt(controlValue) >= config.minimumNumber && parseInt(controlValue) <= config.maximumNumber))
                        return ObjectMaker.toJson(AnnotationTypes["range"], config.message || null, [config.minimumNumber, config.maximumNumber, controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function uppercaseValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!(controlValue === controlValue.toUpperCase()))
                        return ObjectMaker.toJson(AnnotationTypes["upperCase"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function requiredValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (!RegexValidator.isNotBlank(controlValue)) {
                    return ObjectMaker.toJson(AnnotationTypes["required"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function patternValidator(config) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    for (var /** @type {?} */ pattern in config.pattern)
                        if (!(RegexValidator.isValid(controlValue, config.pattern[pattern])))
                            return ObjectMaker.toJson(pattern, config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @param {?} conditionalValidationProps
     * @return {?}
     */
    function timeValidator(config, conditionalValidationProps) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    var /** @type {?} */ testResult = false;
                    var /** @type {?} */ valueLength = 5;
                    if (!config.allowSeconds)
                        valueLength = 8;
                    testResult = RegexValidator.isValid(controlValue, RegExRule["time"]) && controlValue.length == valueLength;
                    if (!testResult)
                        return ObjectMaker.toJson(AnnotationTypes["time"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @param {?} conditionalValidationProps
     * @return {?}
     */
    function urlValidator(config, conditionalValidationProps) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    if (!RegexValidator.isValid(controlValue, RegExRule["url"]))
                        return ObjectMaker.toJson(AnnotationTypes["url"], config.message || null, [controlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @param {?} conditionalValidationProps
     * @return {?}
     */
    function jsonValidator(config, conditionalValidationProps) {
        return function (control) {
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            config = ApplicationUtil.getConfigObject(config);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue)) {
                    try {
                        var /** @type {?} */ json = JSON.parse(controlValue);
                    }
                    catch (ex) {
                        return ObjectMaker.toJson(AnnotationTypes["json"], config.message || null, [controlValue]);
                    }
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function greaterThanValidator(config) {
        return function (control) {
            var /** @type {?} */ matchControl = control.root.get([config.fieldName]);
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ matchControlValue = (matchControl) ? matchControl.value : '';
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if (RegexValidator.isNotBlank(controlValue) && RegexValidator.isNotBlank(matchControlValue)) {
                    if (!(matchControl && parseFloat(controlValue) > parseFloat(matchControlValue)))
                        return ObjectMaker.toJson(AnnotationTypes["greaterThan"], config.message || null, [controlValue, matchControlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function greaterThanEqualToValidator(config) {
        return function (control) {
            var /** @type {?} */ matchControl = control.root.get([config.fieldName]);
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ matchControlValue = (matchControl) ? matchControl.value : '';
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if ((RegexValidator.isNotBlank(controlValue) && RegexValidator.isNotBlank(matchControlValue))) {
                    if (!(matchControl && parseFloat(controlValue) >= parseFloat(matchControlValue)))
                        return ObjectMaker.toJson(AnnotationTypes["greaterThanEqualTo"], config.message || null, [controlValue, matchControlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function lessThanEqualToValidator(config) {
        return function (control) {
            var /** @type {?} */ matchControl = control.root.get([config.fieldName]);
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ matchControlValue = (matchControl) ? matchControl.value : '';
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if ((RegexValidator.isNotBlank(controlValue) && RegexValidator.isNotBlank(matchControlValue))) {
                    if (!(matchControl && parseFloat(controlValue) <= parseFloat(matchControlValue)))
                        return ObjectMaker.toJson(AnnotationTypes["lessThanEqualTo"], config.message || null, [controlValue, matchControlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function lessThanValidator(config) {
        return function (control) {
            var /** @type {?} */ matchControl = control.root.get([config.fieldName]);
            var /** @type {?} */ controlValue = control.value;
            var /** @type {?} */ matchControlValue = (matchControl) ? matchControl.value : '';
            var /** @type {?} */ formGroupValue = ApplicationUtil.getParentObjectValue(control);
            var /** @type {?} */ parentObject = (control.parent) ? control.parent.value : undefined;
            if (Linq.IsPassed(formGroupValue, config.conditionalExpressions, parentObject)) {
                if ((RegexValidator.isNotBlank(controlValue) && RegexValidator.isNotBlank(matchControlValue))) {
                    if (!(matchControl && parseFloat(controlValue) < parseFloat(matchControlValue)))
                        return ObjectMaker.toJson(AnnotationTypes["lessThan"], config.message || null, [controlValue, matchControlValue]);
                }
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ PROPERTY = "property";
    var /** @type {?} */ OBJECT_PROPERTY = "objectProperty";
    var /** @type {?} */ ARRAY_PROPERTY = "arrayProperty";

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ defaultContainer = new ((function () {
        function class_1() {
            this.instances = [];
        }
        /**
         * @template T
         * @param {?} instanceFunc
         * @return {?}
         */
        class_1.prototype.get = /**
         * @template T
         * @param {?} instanceFunc
         * @return {?}
         */
            function (instanceFunc) {
                var /** @type {?} */ instance = this.instances.filter(function (instance) { return instance.instance === instanceFunc; })[0];
                return instance;
            };
        /**
         * @param {?} instanceFunc
         * @return {?}
         */
        class_1.prototype.addInstanceContainer = /**
         * @param {?} instanceFunc
         * @return {?}
         */
            function (instanceFunc) {
                var /** @type {?} */ instanceContainer = {
                    instance: instanceFunc,
                    propertyAnnotations: [],
                    properties: []
                };
                this.instances.push(instanceContainer);
                return instanceContainer;
            };
        /**
         * @param {?} instanceFunc
         * @param {?} propertyInfo
         * @return {?}
         */
        class_1.prototype.addProperty = /**
         * @param {?} instanceFunc
         * @param {?} propertyInfo
         * @return {?}
         */
            function (instanceFunc, propertyInfo) {
                var /** @type {?} */ instance = this.instances.filter(function (instance) { return instance.instance === instanceFunc; })[0];
                if (instance) {
                    this.addPropertyInfo(instance, propertyInfo);
                }
                else {
                    instance = this.addInstanceContainer(instanceFunc);
                    this.addPropertyInfo(instance, propertyInfo);
                }
            };
        /**
         * @param {?} instance
         * @param {?} propertyInfo
         * @return {?}
         */
        class_1.prototype.addPropertyInfo = /**
         * @param {?} instance
         * @param {?} propertyInfo
         * @return {?}
         */
            function (instance, propertyInfo) {
                var /** @type {?} */ property = instance.properties.filter(function (t) { return t.name == propertyInfo.name; })[0];
                if (!property)
                    instance.properties.push(propertyInfo);
            };
        /**
         * @param {?} instanceFunc
         * @param {?} decoratorConfiguration
         * @return {?}
         */
        class_1.prototype.addAnnotation = /**
         * @param {?} instanceFunc
         * @param {?} decoratorConfiguration
         * @return {?}
         */
            function (instanceFunc, decoratorConfiguration) {
                this.addProperty(instanceFunc, { propertyType: PROPERTY, name: decoratorConfiguration.propertyName });
                var /** @type {?} */ instance = this.instances.filter(function (instance) { return instance.instance === instanceFunc; })[0];
                if (instance)
                    instance.propertyAnnotations.push(decoratorConfiguration);
                else {
                    instance = this.addInstanceContainer(instanceFunc);
                    instance.propertyAnnotations.push(decoratorConfiguration);
                }
                if (decoratorConfiguration.config && decoratorConfiguration.config.conditionalExpressions) {
                    var /** @type {?} */ columns = Linq.expressionColumns(decoratorConfiguration.config.conditionalExpressions);
                    this.addChangeValidation(instance, decoratorConfiguration.propertyName, columns);
                }
                if (instance && decoratorConfiguration.config && (decoratorConfiguration.annotationType == AnnotationTypes["compare"] || decoratorConfiguration.annotationType == AnnotationTypes["greaterThan"] || decoratorConfiguration.annotationType == AnnotationTypes["greaterThanEqualTo"] || decoratorConfiguration.annotationType == AnnotationTypes["lessThan"] || decoratorConfiguration.annotationType == AnnotationTypes["lessThanEqualTo"])) {
                    this.setConditionalValueProp(instance, decoratorConfiguration.config.fieldName, decoratorConfiguration.propertyName);
                }
            };
        /**
         * @param {?} instance
         * @param {?} propName
         * @param {?} refPropName
         * @return {?}
         */
        class_1.prototype.setConditionalValueProp = /**
         * @param {?} instance
         * @param {?} propName
         * @param {?} refPropName
         * @return {?}
         */
            function (instance, propName, refPropName) {
                if (!instance.conditionalValidationProps)
                    instance.conditionalValidationProps = {};
                if (!instance.conditionalValidationProps[propName])
                    instance.conditionalValidationProps[propName] = [];
                if (instance.conditionalValidationProps[propName].indexOf(refPropName) == -1)
                    instance.conditionalValidationProps[propName].push(refPropName);
            };
        /**
         * @param {?} instance
         * @param {?} propertyName
         * @param {?} columns
         * @return {?}
         */
        class_1.prototype.addChangeValidation = /**
         * @param {?} instance
         * @param {?} propertyName
         * @param {?} columns
         * @return {?}
         */
            function (instance, propertyName, columns) {
                if (instance) {
                    if (!instance.conditionalValidationProps)
                        instance.conditionalValidationProps = {};
                    columns.forEach(function (t) {
                        if (t.propName && !t.objectPropName) {
                            if (!instance.conditionalValidationProps[t.propName])
                                instance.conditionalValidationProps[t.propName] = [];
                            if (instance.conditionalValidationProps[t.propName].indexOf(propertyName) == -1)
                                instance.conditionalValidationProps[t.propName].push(propertyName);
                        }
                        else {
                            if (t.propName && t.objectPropName) {
                                if (!instance.conditionalObjectProps)
                                    instance.conditionalObjectProps = [];
                                t.referencePropName = propertyName;
                                instance.conditionalObjectProps["push"](t);
                            }
                        }
                    });
                }
            };
        return class_1;
    }()))();

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var FormBuilderConfiguration = (function () {
        function FormBuilderConfiguration(formBuilderConfiguration) {
            if (formBuilderConfiguration)
                for (var /** @type {?} */ column in formBuilderConfiguration)
                    this[column] = formBuilderConfiguration[column];
        }
        return FormBuilderConfiguration;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} conditionalValidationProps
     * @return {?}
     */
    function conditionalChangeValidator(conditionalValidationProps) {
        var /** @type {?} */ setTimeOut = function (control) {
            var /** @type {?} */ timeOut = window.setTimeout(function (t) {
                window.clearTimeout(timeOut);
                control.updateValueAndValidity();
            }, 100);
        };
        return function (control) {
            var /** @type {?} */ parentFormGroup = control.parent;
            if (parentFormGroup) {
                conditionalValidationProps.forEach(function (t) {
                    if (t.indexOf("[]") != -1) {
                        var /** @type {?} */ splitText = t.split("[]");
                        var /** @type {?} */ formArray = (parentFormGroup.get([splitText[0]]));
                        formArray.controls.forEach(function (formGroup) {
                            var /** @type {?} */ abstractControl = formGroup.get(splitText[1]);
                            if (abstractControl) {
                                setTimeOut(abstractControl);
                            }
                        });
                    }
                    else {
                        var /** @type {?} */ control = parentFormGroup.get([t]);
                        if (!control)
                            control = parentFormGroup.root.get([t]);
                        if (control) {
                            setTimeOut(control);
                        }
                    }
                });
            }
            return ObjectMaker.null();
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ APP_VALIDATORS = {
        "alphaNumeric": alphaNumericValidator,
        "alpha": alphaValidator,
        "compare": compareValidator,
        "email": emailValidator,
        "hexColor": hexColorValidator,
        "lowerCase": lowercaseValidator,
        "maxDate": maxDateValidator,
        "maxNumber": maxNumberValidator,
        "minDate": minDateValidator,
        "minNumber": minNumberValidator,
        "contains": containsValidator,
        "upperCase": uppercaseValidator,
        "maxLength": maxLengthValidator,
        "minLength": minLengthValidator,
        "password": passwordValidator,
        "range": rangeValidator,
        "required": requiredValidator,
        "creditCard": creditCardValidator,
        "digit": digitValidator,
        "pattern": patternValidator,
        "time": timeValidator,
        "url": urlValidator,
        "json": jsonValidator,
        "greaterThan": greaterThanValidator,
        "greaterThanEqualTo": greaterThanEqualToValidator,
        "lessThan": lessThanValidator,
        "lessThanEqualTo": lessThanEqualToValidator
    };
    var RxFormBuilder = (function () {
        function RxFormBuilder(formBuilder) {
            this.formBuilder = formBuilder;
            this.conditionalObjectProps = [];
            this.conditionalValidationInstance = {};
            this.builderConfigurationConditionalObjectProps = [];
            this.isNested = false;
        }
        /**
         * @param {?} instanceFunc
         * @return {?}
         */
        RxFormBuilder.prototype.getInstanceContainer = /**
         * @param {?} instanceFunc
         * @return {?}
         */
            function (instanceFunc) {
                return defaultContainer.get(instanceFunc);
            };
        /**
         * @param {?} formGroup
         * @param {?} object
         * @return {?}
         */
        RxFormBuilder.prototype.setValue = /**
         * @param {?} formGroup
         * @param {?} object
         * @return {?}
         */
            function (formGroup, object) {
                for (var /** @type {?} */ col in object) {
                    var /** @type {?} */ control = formGroup.get([col]);
                    control.setValue(object[col]);
                    control.updateValueAndValidity();
                }
            };
        /**
         * @param {?} fomrBuilderConfiguration
         * @return {?}
         */
        RxFormBuilder.prototype.extractExpressions = /**
         * @param {?} fomrBuilderConfiguration
         * @return {?}
         */
            function (fomrBuilderConfiguration) {
                if (fomrBuilderConfiguration && fomrBuilderConfiguration.validations) {
                    for (var /** @type {?} */ property in fomrBuilderConfiguration.validations) {
                        for (var /** @type {?} */ decorator in fomrBuilderConfiguration.validations[property]) {
                            if (fomrBuilderConfiguration.validations[property][decorator].conditionalExpressions) {
                                var /** @type {?} */ columns = Linq.expressionColumns(fomrBuilderConfiguration.validations[property][decorator].conditionalExpressions);
                                defaultContainer.addChangeValidation(this.conditionalValidationInstance, property, columns);
                            }
                        }
                    }
                }
                return null;
            };
        /**
         * @param {?} property
         * @param {?} propertyValidators
         * @param {?} propValidationConfig
         * @param {?} instance
         * @return {?}
         */
        RxFormBuilder.prototype.addFormControl = /**
         * @param {?} property
         * @param {?} propertyValidators
         * @param {?} propValidationConfig
         * @param {?} instance
         * @return {?}
         */
            function (property, propertyValidators, propValidationConfig, instance) {
                var /** @type {?} */ validators = [];
                var /** @type {?} */ columns = [];
                if ((instance.conditionalValidationProps && instance.conditionalValidationProps[property.name]) || (this.conditionalValidationInstance.conditionalValidationProps && this.conditionalValidationInstance.conditionalValidationProps[property.name])) {
                    var /** @type {?} */ props_1 = [];
                    if ((instance.conditionalValidationProps && instance.conditionalValidationProps[property.name]))
                        instance.conditionalValidationProps[property.name].forEach(function (t) { return props_1.push(t); });
                    if (this.conditionalValidationInstance.conditionalValidationProps && this.conditionalValidationInstance.conditionalValidationProps[property.name])
                        this.conditionalValidationInstance.conditionalValidationProps[property.name].forEach(function (t) { return props_1.push(t); });
                    validators.push(conditionalChangeValidator(props_1));
                }
                if (this.conditionalObjectProps.length > 0 || this.builderConfigurationConditionalObjectProps.length > 0) {
                    var /** @type {?} */ propConditions_1 = [];
                    if (this.conditionalObjectProps)
                        propConditions_1 = this.conditionalObjectProps.filter(function (t) { return t.propName == property.name; });
                    if (this.builderConfigurationConditionalObjectProps)
                        this.builderConfigurationConditionalObjectProps.filter(function (t) { return t.propName == property.name; }).forEach(function (t) { return propConditions_1.push(t); });
                    propConditions_1.forEach(function (t) {
                        if (t.referencePropName && columns.indexOf(t.referencePropName) == -1)
                            columns.push(t.referencePropName);
                    });
                    if (columns.length > 0)
                        validators.push(conditionalChangeValidator(columns));
                }
                try {
                    for (var propertyValidators_1 = __values(propertyValidators), propertyValidators_1_1 = propertyValidators_1.next(); !propertyValidators_1_1.done; propertyValidators_1_1 = propertyValidators_1.next()) {
                        var propertyValidator = propertyValidators_1_1.value;
                        validators.push(APP_VALIDATORS[propertyValidator.annotationType](propertyValidator.config));
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (propertyValidators_1_1 && !propertyValidators_1_1.done && (_a = propertyValidators_1.return))
                            _a.call(propertyValidators_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                if (propValidationConfig)
                    this.additionalValidation(validators, propValidationConfig);
                return validators;
                var e_1, _a;
            };
        /**
         * @param {?} validations
         * @param {?} propValidationConfig
         * @return {?}
         */
        RxFormBuilder.prototype.additionalValidation = /**
         * @param {?} validations
         * @param {?} propValidationConfig
         * @return {?}
         */
            function (validations, propValidationConfig) {
                for (var /** @type {?} */ col in AnnotationTypes) {
                    if (propValidationConfig[AnnotationTypes[col]] && col != "custom") {
                        validations.push(APP_VALIDATORS[AnnotationTypes[col]](propValidationConfig[AnnotationTypes[col]]));
                    }
                    else if (col == AnnotationTypes["custom"] && propValidationConfig[AnnotationTypes[col]])
                        validations.push(propValidationConfig[col]);
                }
            };
        /**
         * @template T
         * @param {?} instanceContainer
         * @param {?} object
         * @return {?}
         */
        RxFormBuilder.prototype.checkObjectPropAdditionalValidation = /**
         * @template T
         * @param {?} instanceContainer
         * @param {?} object
         * @return {?}
         */
            function (instanceContainer, object) {
                var _this = this;
                var /** @type {?} */ props = instanceContainer.properties.filter(function (t) { return t.propertyType == OBJECT_PROPERTY || t.propertyType == ARRAY_PROPERTY; });
                props.forEach(function (t) {
                    var /** @type {?} */ instance = _this.getInstanceContainer(t.entity);
                    if (instance.conditionalValidationProps) {
                        for (var /** @type {?} */ key in instance.conditionalValidationProps) {
                            var /** @type {?} */ prop = instance.properties.filter(function (t) { return t.name == key; })[0];
                            if (!prop)
                                prop = instanceContainer.properties.filter(function (t) { return t.name == key; })[0];
                            if (prop) {
                                if (!instanceContainer.conditionalValidationProps)
                                    if (!instanceContainer.conditionalValidationProps[key])
                                        instanceContainer.conditionalValidationProps[key] = [];
                                instance.conditionalValidationProps[key].forEach(function (x) {
                                    if (t.propertyType != ARRAY_PROPERTY)
                                        instanceContainer.conditionalValidationProps[key].push([t.name, x].join('.'));
                                    else
                                        instanceContainer.conditionalValidationProps[key].push([t.name, x].join('[]'));
                                });
                            }
                        }
                    }
                });
            };
        /**
         * @param {?} model
         * @param {?=} entityObject
         * @param {?=} formBuilderConfiguration
         * @return {?}
         */
        RxFormBuilder.prototype.getObject = /**
         * @param {?} model
         * @param {?=} entityObject
         * @param {?=} formBuilderConfiguration
         * @return {?}
         */
            function (model, entityObject, formBuilderConfiguration) {
                var /** @type {?} */ json = {};
                if (typeof model == "function")
                    json["model"] = model;
                if (entityObject && !(entityObject instanceof FormBuilderConfiguration))
                    json["entityObject"] = entityObject;
                if (entityObject instanceof FormBuilderConfiguration && !formBuilderConfiguration)
                    json["formBuilderConfiguration"] = entityObject;
                else if (!(entityObject instanceof FormBuilderConfiguration) && formBuilderConfiguration)
                    json["formBuilderConfiguration"] = formBuilderConfiguration;
                if (!entityObject) {
                    json["entityObject"] = model;
                    if (typeof model == "object")
                        json["model"] = model.constructor;
                }
                else if (model && (entityObject instanceof FormBuilderConfiguration) && (typeof model == "object")) {
                    json["entityObject"] = model;
                    json["model"] = model.constructor;
                }
                return json;
            };
        /**
         * @template T
         * @param {?} model
         * @param {?=} entityObject
         * @param {?=} formBuilderConfiguration
         * @return {?}
         */
        RxFormBuilder.prototype.formGroup = /**
         * @template T
         * @param {?} model
         * @param {?=} entityObject
         * @param {?=} formBuilderConfiguration
         * @return {?}
         */
            function (model, entityObject, formBuilderConfiguration) {
                var _this = this;
                var /** @type {?} */ json = this.getObject(model, entityObject, formBuilderConfiguration);
                model = json["model"];
                entityObject = json["entityObject"];
                formBuilderConfiguration = json["formBuilderConfiguration"];
                if (formBuilderConfiguration)
                    this.extractExpressions(formBuilderConfiguration);
                var /** @type {?} */ instanceContainer = this.getInstanceContainer(model);
                this.checkObjectPropAdditionalValidation(instanceContainer, entityObject);
                var /** @type {?} */ formGroupObject = {};
                var /** @type {?} */ additionalValidations = {};
                instanceContainer.properties.forEach(function (property) {
                    var /** @type {?} */ isIncludeProp = true;
                    if (formBuilderConfiguration && formBuilderConfiguration.excludeProps && formBuilderConfiguration.excludeProps.length > 0)
                        isIncludeProp = formBuilderConfiguration.excludeProps.indexOf(property.name) == -1;
                    if (formBuilderConfiguration && formBuilderConfiguration.validations)
                        additionalValidations = formBuilderConfiguration.validations;
                    if (isIncludeProp) {
                        switch (property.propertyType) {
                            case PROPERTY:
                                var /** @type {?} */ propertyValidators = instanceContainer.propertyAnnotations.filter(function (t) { return t.propertyName == property.name; });
                                formGroupObject[property.name] = [entityObject[property.name], _this.addFormControl(property, propertyValidators, additionalValidations[property.name], instanceContainer)];
                                _this.isNested = false;
                                break;
                            case OBJECT_PROPERTY:
                                if (entityObject[property.name] && entityObject[property.name] instanceof Object) {
                                    _this.isNested = true;
                                    if (instanceContainer && instanceContainer.conditionalObjectProps)
                                        _this.conditionalObjectProps = instanceContainer.conditionalObjectProps["filter"](function (t) { return t.objectPropName == property.name; });
                                    if (_this.conditionalValidationInstance && _this.conditionalValidationInstance.conditionalObjectProps)
                                        _this.builderConfigurationConditionalObjectProps = _this.conditionalValidationInstance.conditionalObjectProps.filter(function (t) { return t.objectPropName == property.name; });
                                    formGroupObject[property.name] = _this.formGroup(property.entity, entityObject[property.name], formBuilderConfiguration);
                                    _this.conditionalObjectProps = [];
                                    _this.builderConfigurationConditionalObjectProps = [];
                                    _this.isNested = false;
                                }
                                break;
                            case ARRAY_PROPERTY:
                                if (entityObject[property.name] && entityObject[property.name] instanceof Array) {
                                    _this.isNested = true;
                                    var /** @type {?} */ formArrayGroup = [];
                                    var /** @type {?} */ index_1 = 0;
                                    try {
                                        for (var _a = __values(entityObject[property.name]), _b = _a.next(); !_b.done; _b = _a.next()) {
                                            var subObject = _b.value;
                                            if (instanceContainer && instanceContainer.conditionalObjectProps)
                                                _this.conditionalObjectProps = instanceContainer.conditionalObjectProps["filter"](function (t) { return t.objectPropName == property.name && t.arrayIndex == index_1; });
                                            if (_this.conditionalValidationInstance && _this.conditionalValidationInstance.conditionalObjectProps)
                                                _this.builderConfigurationConditionalObjectProps = _this.conditionalValidationInstance.conditionalObjectProps.filter(function (t) { return t.objectPropName == property.name && t.arrayIndex == index_1; });
                                            formArrayGroup.push(_this.formGroup(property.entity, subObject, formBuilderConfiguration));
                                            index_1++;
                                            _this.conditionalObjectProps = [];
                                            _this.builderConfigurationConditionalObjectProps = [];
                                        }
                                    }
                                    catch (e_2_1) {
                                        e_2 = { error: e_2_1 };
                                    }
                                    finally {
                                        try {
                                            if (_b && !_b.done && (_c = _a.return))
                                                _c.call(_a);
                                        }
                                        finally {
                                            if (e_2)
                                                throw e_2.error;
                                        }
                                    }
                                    formGroupObject[property.name] = _this.formBuilder.array(formArrayGroup);
                                    _this.isNested = false;
                                }
                                break;
                        }
                    }
                    var e_2, _c;
                });
                if (!this.isNested) {
                    this.conditionalValidationInstance = {};
                    this.builderConfigurationConditionalObjectProps = [];
                }
                return this.formBuilder.group(formGroupObject);
            };
        RxFormBuilder.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        RxFormBuilder.ctorParameters = function () {
            return [
                { type: forms.FormBuilder }
            ];
        };
        return RxFormBuilder;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var RxReactiveFormsModule = (function () {
        function RxReactiveFormsModule() {
        }
        /**
         * @return {?}
         */
        RxReactiveFormsModule.forRoot = /**
         * @return {?}
         */
            function () { return { ngModule: RxReactiveFormsModule, providers: [] }; };
        RxReactiveFormsModule.decorators = [
            { type: core.NgModule, args: [{
                        declarations: [],
                        exports: [],
                        imports: [forms.FormsModule, forms.ReactiveFormsModule],
                        providers: [RxFormBuilder],
                    },] },
        ];
        return RxReactiveFormsModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function alpha(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["alpha"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function alphaNumeric(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["alphaNumeric"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function compare(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["compare"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function contains(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["contains"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function creditCard(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["creditCard"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function digit(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["digit"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function email(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["email"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function hexColor(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["hexColor"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function lowerCase(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["lowerCase"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function maxDate(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["maxDate"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function maxLength(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["maxLength"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function minDate(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["minDate"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function maxNumber(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["maxNumber"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function minLength(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["minLength"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function minNumber(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["minNumber"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function password(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["password"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function pattern(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["pattern"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @template T
     * @param {?} entity
     * @return {?}
     */
    function propArray(entity) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ propertyInfo = {
                name: propertyKey,
                propertyType: ARRAY_PROPERTY,
                entity: entity
            };
            defaultContainer.addProperty(target.constructor, propertyInfo);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @template T
     * @param {?} entity
     * @return {?}
     */
    function propObject(entity) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ propertyInfo = {
                name: propertyKey,
                propertyType: OBJECT_PROPERTY,
                entity: entity
            };
            defaultContainer.addProperty(target.constructor, propertyInfo);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @return {?}
     */
    function prop() {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ propertyInfo = {
                name: propertyKey,
                propertyType: PROPERTY
            };
            defaultContainer.addProperty(target.constructor, propertyInfo);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function range(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["range"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function required(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["required"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function upperCase(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["upperCase"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function time(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["time"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function url(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["url"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?=} config
     * @return {?}
     */
    function json(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["json"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function greaterThan(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["greaterThan"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function greaterThanEqualTo(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["greaterThanEqualTo"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function lessThanEqualTo(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["lessThanEqualTo"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} config
     * @return {?}
     */
    function lessThan(config) {
        return function (target, propertyKey, parameterIndex) {
            var /** @type {?} */ decoratorConfiguration = {
                propertyIndex: parameterIndex,
                propertyName: propertyKey,
                annotationType: AnnotationTypes["lessThan"],
                config: config
            };
            var /** @type {?} */ isPropertyKey = (propertyKey != undefined);
            defaultContainer.addAnnotation(!isPropertyKey ? target : target.constructor, decoratorConfiguration);
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.RxReactiveFormsModule = RxReactiveFormsModule;
    exports.RxFormBuilder = RxFormBuilder;
    exports.FormBuilderConfiguration = FormBuilderConfiguration;
    exports.alpha = alpha;
    exports.alphaNumeric = alphaNumeric;
    exports.compare = compare;
    exports.contains = contains;
    exports.creditCard = creditCard;
    exports.digit = digit;
    exports.email = email;
    exports.hexColor = hexColor;
    exports.lowerCase = lowerCase;
    exports.maxDate = maxDate;
    exports.maxLength = maxLength;
    exports.minDate = minDate;
    exports.maxNumber = maxNumber;
    exports.minLength = minLength;
    exports.minNumber = minNumber;
    exports.password = password;
    exports.pattern = pattern;
    exports.propArray = propArray;
    exports.propObject = propObject;
    exports.prop = prop;
    exports.range = range;
    exports.required = required;
    exports.upperCase = upperCase;
    exports.time = time;
    exports.url = url;
    exports.json = json;
    exports.greaterThan = greaterThan;
    exports.greaterThanEqualTo = greaterThanEqualTo;
    exports.lessThanEqualTo = lessThanEqualTo;
    exports.lessThan = lessThan;
    exports.ReactiveFormConfig = ReactiveFormConfig;
    exports.CreditCardType = CreditCardType;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnh3ZWItcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzLnVtZC5qcy5tYXAiLCJzb3VyY2VzIjpbbnVsbCwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3V0aWwvY3JlZGl0LWNhcmQtcmVnZXgudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvdXRpbC9yZWdleC1ydWxlcy50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy91dGlsL3JlZ2V4LXZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy91dGlsL3JlYWN0aXZlLWZvcm0tY29uZmlnLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3V0aWwvb2JqZWN0LW1ha2VyLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3V0aWwvbGlucS50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy91dGlsL2FwcC11dGlsLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2NvcmUvdmFsaWRhdG9yLnN0YXRpYy50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvYWxwaGEudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9hbHBoYU51bWVyaWMudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9jb21wYXJlLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvY29udGFpbnMudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9jcmVkaXQtY2FyZC52YWxpZGF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RpZ2l0LnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZW1haWwudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9oZXhjb2xvci52YWxpZGF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2xvd2VyY2FzZS52YWxpZGF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL21heERhdGUudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9tYXhMZW5ndGgudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9tYXhOdW1iZXIudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9taW5EYXRlLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvbWluTGVuZ3RoLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvbWluTnVtYmVyLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvcGFzc3dvcmQudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yYW5nZS52YWxpZGF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3VwcGVyY2FzZS52YWxpZGF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlcXVpcmVkLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvcGF0dGVybi52YWxpZGF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3RpbWUudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy91cmwudmFsaWRhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9qc29uLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZ3JlYXRlci10aGFuLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZ3JlYXRlci10aGFuLWVxdWFsLXRvLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvbGVzcy10aGFuLWVxdWFsLXRvLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvbGVzcy10aGFuLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9jb25zdC92YWxpZGF0b3IuY29uc3QudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvY29yZS9kZWZhdWx0Q29udGFpbmVyLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL21vZGVscy9mb3JtLWJ1aWxkZXItY29uZmlndXJhdGlvbi50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvY29uZGl0aW9uYWwtY2hhbmdlLnZhbGlkYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9zZXJ2aWNlcy9yeC1mb3JtLWJ1aWxkZXIudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvc2VydmljZXMvcmVhY3RpdmUtZm9ybS5tb2R1bGUudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9hbHBoYS5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9hbHBoYU51bWVyaWMuZGVjb3JhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RlY29yYXRvcnMvY29tcGFyZS5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9jb250YWlucy5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9jcmVkaXQtY2FyZC5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9kaWdpdC5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9lbWFpbC5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9oZXhDb2xvci5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9sb3dlcmNhc2UuZGVjb3JhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RlY29yYXRvcnMvbWF4RGF0ZS5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9tYXhMZW5ndGguZGVjb3JhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RlY29yYXRvcnMvbWluRGF0ZS5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9tYXhOdW1iZXIuZGVjb3JhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RlY29yYXRvcnMvbWluTGVuZ3RoLmRlY29yYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9kZWNvcmF0b3JzL21pbk51bWJlci5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9wYXNzd29yZC5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9wYXR0ZXJuLmRlY29yYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9kZWNvcmF0b3JzL3Byb3AtYXJyYXkuZGVjb3JhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RlY29yYXRvcnMvcHJvcC1vYmplY3QuZGVjb3JhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RlY29yYXRvcnMvcHJvcC5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9yYW5nZS5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9yZXF1aXJlZC5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy91cHBlcmNhc2UuZGVjb3JhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RlY29yYXRvcnMvdGltZS5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy91cmwuZGVjb3JhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RlY29yYXRvcnMvanNvbi5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9ncmVhdGVyLXRoYW4uZGVjb3JhdG9yLnRzIiwibmc6Ly9Acnh3ZWIvcmVhY3RpdmUtZm9ybS12YWxpZGF0b3JzL2RlY29yYXRvcnMvZ3JlYXRlci10aGFuLWVxdWFsLXRvLmRlY29yYXRvci50cyIsIm5nOi8vQHJ4d2ViL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9kZWNvcmF0b3JzL2xlc3MtdGhhbi1lcXVhbC10by5kZWNvcmF0b3IudHMiLCJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMvZGVjb3JhdG9ycy9sZXNzLXRoYW4uZGVjb3JhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ3JlZGl0Q2FyZFJlZ2V4IHtcclxuXHJcbiAgICBWaXNhOiBSZWdFeHAgPSBuZXcgUmVnRXhwKCdeKD86NFswLTldezEyfSkoPzpbMC05XXszfSk/JCcpO1xyXG5cclxuICAgIEFtZXJpY2FuRXhwcmVzczogUmVnRXhwID0gbmV3IFJlZ0V4cCgnXig/OjNbNDddWzAtOV17MTN9KSQnKTtcclxuXHJcbiAgICBNYWVzdHJvOiBSZWdFeHAgPSBuZXcgUmVnRXhwKCdeKD86KD86NVswNjc4XVxcXFxkXFxcXGR8NjMwNHw2MzkwfDY3XFxcXGRcXFxcZClcXFxcZHs4LDE1fSkkJyk7XHJcblxyXG4gICAgSkNCOiBSZWdFeHAgPSBuZXcgUmVnRXhwKCdeKD86KD86MjEzMXwxODAwfDM1XFxcXGR7M30pXFxcXGR7MTF9KSQnKTtcclxuXHJcbiAgICBEaXNjb3ZlcjogUmVnRXhwID0gbmV3IFJlZ0V4cCgnXig/OjYoPzowMTF8NVswLTldezJ9KSg/OlswLTldezEyfSkpJCcpO1xyXG5cclxuICAgIERpbmVyc0NsdWI6IFJlZ0V4cCA9IG5ldyBSZWdFeHAoJ14oPzozKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0pJCcpO1xyXG5cclxuICAgIE1hc3RlckNhcmQ6IFJlZ0V4cCA9IG5ldyBSZWdFeHAoJ14oPzo1WzEtNV1bMC05XXsyfXwyMjJbMS05XXwyMlszLTldWzAtOV18MlszLTZdWzAtOV17Mn18MjdbMDFdWzAtOV18MjcyMClbMC05XXsxMn0kJyk7XHJcbn1cclxuIiwiaW1wb3J0IHsgQ3JlZGl0Q2FyZFJlZ2V4IH0gZnJvbSAnLi9jcmVkaXQtY2FyZC1yZWdleCdcclxuXHJcbmV4cG9ydCBjb25zdCBSZWdFeFJ1bGU6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7XHJcblxyXG4gICAgYWxwaGE6IC9eW2EtekEtWl0rJC8sXHJcblxyXG4gICAgYWxwaGFXaXRoU3BhY2U6IC9eW2EtekEtWlxcc10rJC8sXHJcblxyXG4gICAgb25seURpZ2l0OiAvXlswLTldKyQvLFxyXG5cclxuICAgIGlzRGlnaXRFeGl0czogL1xcZC9nLFxyXG5cclxuICAgIGxvd2VyQ2FzZTogL1thLXpdL2csXHJcblxyXG4gICAgdXBwZXJDYXNlOiAvW0EtWl0vZyxcclxuXHJcbiAgICBzcGVjaWFsQ2hhcmFjdGVyOiAvWyFAIyQlXiYqKCksLj9cIjp7fXw8Pl0vZyxcclxuXHJcbiAgICBhZHZhbmNlZEVtYWlsOiAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC8sXHJcblxyXG4gICAgYmFzaWNFbWFpbDogL14oKFtePD4oKVxcW1xcXVxcXFwuLCw6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC8sXHJcblxyXG4gICAgYWxwaGFOdW1lcmljOiAvXlswLTlhLXpBLVpdKyQvLFxyXG4gICAgXHJcbiAgICBhbHBoYU51bWVyaWNXaXRoU3BhY2U6IC9eWzAtOWEtekEtWlxcc10rJC8sXHJcblxyXG4gICAgaGV4Q29sb3I6IC8jKFthLWYwLTldezN9fFthLWYwLTldezR9KD86W2EtZjAtOV17Mn0pezAsMn0pXFxiL2dpLFxyXG5cclxuICAgIHN0cmljdEhleENvbG9yOiAvXiMoW2EtZjAtOV17Myw0fXxbYS1mMC05XXs0fSg/OlthLWYwLTldezJ9KXsxLDJ9KVxcYiQvaSxcclxuXHJcbiAgICBmbG9hdDogL14oPzpbLStdPyg/OlswLTldKykpPyg/OlxcLlswLTldKik/KD86W2VFXVtcXCtcXC1dPyg/OlswLTldKykpPyQvLFxyXG5cclxuICAgIGRlY2ltYWw6IC9eWy0rXT8oWzAtOV0rfFxcLlswLTldK3xbMC05XStcXC5bMC05XSspJC8sXHJcblxyXG4gICAgaGV4YURlY2ltYWw6IC9eWzAtOUEtRl0rJC9pLFxyXG5cclxuICAgIGRhdGU6IC9eKD86KD86MzEoXFwvfC18XFwuKSg/OjA/WzEzNTc4XXwxWzAyXSkpXFwxfCg/Oig/OjI5fDMwKShcXC98LXxcXC4pKD86MD9bMSwzLTldfDFbMC0yXSlcXDIpKSg/Oig/OjFbNi05XXxbMi05XVxcZCk/XFxkezJ9KSR8Xig/OjI5KFxcL3wtfFxcLikwPzJcXDMoPzooPzooPzoxWzYtOV18WzItOV1cXGQpPyg/OjBbNDhdfFsyNDY4XVswNDhdfFsxMzU3OV1bMjZdKXwoPzooPzoxNnxbMjQ2OF1bMDQ4XXxbMzU3OV1bMjZdKTAwKSkpKSR8Xig/OjA/WzEtOV18MVxcZHwyWzAtOF0pKFxcL3wtfFxcLikoPzooPzowP1sxLTldKXwoPzoxWzAtMl0pKVxcNCg/Oig/OjFbNi05XXxbMi05XVxcZCk/XFxkezJ9KSQvLFxyXG5cclxuICAgIHRpbWU6IC8oMDB8WzAtOV18MVswLTldfDJbMC0zXSk6KFswLTldfFswLTVdWzAtOV0pJC8sXHJcblxyXG4gICAgdXJsOiAvXl4oPzpodHRwKHMpPzpcXC9cXC8pP1tcXHcuLV0rKD86XFwuW1xcd1xcLi1dKykrW1xcd1xcLVxcLl9+Oi8/I1tcXF1AIVxcJCYnXFwoXFwpXFwqXFwrLDs9Ll0rJC9nbSxcclxuXHJcbiAgICBjcmVkaXRDYXJkOiBuZXcgQ3JlZGl0Q2FyZFJlZ2V4KCksXHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBQYXNzd29yZFZhbGlkYXRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL3Bhc3N3b3JkLXZhbGlkYXRpb24ubW9kZWxcIjtcclxuaW1wb3J0IHsgUmVnRXhSdWxlIH0gZnJvbSBcIi4vcmVnZXgtcnVsZXNcIjtcclxuXHJcbmNvbnN0IEFMUEhBQkVUOiBzdHJpbmcgPSBcImFscGhhYmV0XCI7XHJcbmNvbnN0IERJR0lUOiBzdHJpbmcgPSBcImRpZ2l0XCI7XHJcbmNvbnN0IENPTlRBSU5TOiBzdHJpbmcgPSBcImNvbnRhaW5zXCI7XHJcbmNvbnN0IExPV0VSQ0FTRTogc3RyaW5nID0gXCJsb3dlckNhc2VcIjtcclxuY29uc3QgVVBQRVJDQVNFOiBzdHJpbmcgPSBcInVwcGVyQ2FzZVwiO1xyXG5jb25zdCBTUEVDSUFMX0NIQVJBQ1RFUjogc3RyaW5nID0gXCJzcGVjaWFsQ2hhcmFjdGVyXCI7XHJcbmNvbnN0IE1JTl9MRU5HVEg6IHN0cmluZyA9IFwibWluTGVuZ3RoXCI7XHJcbmNvbnN0IE1BWF9MRU5HVEg6IHN0cmluZyA9IFwibWF4TGVuZ3RoXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFJlZ2V4VmFsaWRhdG9yIHtcclxuICAgIHN0YXRpYyBpc0V4aXRzKHZhbHVlOiBhbnksIHJlZ2V4OiBSZWdFeHApOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUubWF0Y2gocmVnZXgpICE9IG51bGw7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaXNWYWxpZCh2YWx1ZTogYW55LCByZWdleDogUmVnRXhwKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc05vdEJsYW5rKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUgIT0gdW5kZWZpbmVkICYmIHZhbHVlICE9IFwiXCIgJiYgdmFsdWUgIT0gbnVsbCA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzVmFsaWRQYXNzd29yZChwYXNzd29yZFZhbGlkYXRpb246IFBhc3N3b3JkVmFsaWRhdGlvbiwgdmFsdWU6IHN0cmluZyk6IHsgW2tleTogc3RyaW5nXTogYW55IH0ge1xyXG4gICAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGpPYmplY3Q6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuICAgICAgICBsZXQga2V5TmFtZSA9IFwic3RhdHVzXCI7XHJcbiAgICAgICAgbGV0IG9iamVjdFByb3BlcnRpZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwYXNzd29yZFZhbGlkYXRpb24pXHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHlOYW1lIG9mIG9iamVjdFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQUxQSEFCRVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IFJlZ2V4VmFsaWRhdG9yLmlzRXhpdHModmFsdWUsIFJlZ0V4UnVsZS5hbHBoYSk7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5TmFtZSA9IEFMUEhBQkVUO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBESUdJVDpcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gUmVnZXhWYWxpZGF0b3IuaXNWYWxpZCh2YWx1ZSwgUmVnRXhSdWxlLmlzRGlnaXRFeGl0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5TmFtZSA9IERJR0lUO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDT05UQUlOUzpcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdmFsdWUuaW5kZXhPZihwYXNzd29yZFZhbGlkYXRpb25bQ09OVEFJTlNdKSAhPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICBrZXlOYW1lID0gQ09OVEFJTlM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExPV0VSQ0FTRTpcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gUmVnZXhWYWxpZGF0b3IuaXNWYWxpZCh2YWx1ZSwgUmVnRXhSdWxlLmxvd2VyQ2FzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5TmFtZSA9IExPV0VSQ0FTRTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgVVBQRVJDQVNFOlxyXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBSZWdleFZhbGlkYXRvci5pc1ZhbGlkKHZhbHVlLCBSZWdFeFJ1bGUudXBwZXJDYXNlKTtcclxuICAgICAgICAgICAgICAgICAgICBrZXlOYW1lID0gVVBQRVJDQVNFO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTUEVDSUFMX0NIQVJBQ1RFUjpcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gUmVnZXhWYWxpZGF0b3IuaXNFeGl0cyh2YWx1ZSwgUmVnRXhSdWxlLnNwZWNpYWxDaGFyYWN0ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGtleU5hbWUgPSBTUEVDSUFMX0NIQVJBQ1RFUjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTUlOX0xFTkdUSDpcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdmFsdWUubGVuZ3RoID49IHBhc3N3b3JkVmFsaWRhdGlvbltwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGtleU5hbWUgPSBNSU5fTEVOR1RIO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNQVhfTEVOR1RIOlxyXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSB2YWx1ZS5sZW5ndGggPD0gcGFzc3dvcmRWYWxpZGF0aW9uW3Byb3BlcnR5TmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAga2V5TmFtZSA9IE1BWF9MRU5HVEg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGlzVmFsaWQsIGtleU5hbWU6IGtleU5hbWUgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBSZWFjdGl2ZUZvcm1Db25maWd7XHJcbiAgICBzdGF0aWMganNvbjogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG4gICAgc3RhdGljIHNldChqT2JqZWN0OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGpPYmplY3QpXHJcbiAgICAgICAgICAgIFJlYWN0aXZlRm9ybUNvbmZpZy5qc29uID0gak9iamVjdDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdGl2ZUZvcm1Db25maWcgfSBmcm9tIFwiLi9yZWFjdGl2ZS1mb3JtLWNvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9iamVjdE1ha2Vye1xyXG4gICAgc3RhdGljIHRvSnNvbihrZXk6IHN0cmluZywgbWVzc2FnZTogYW55LCB2YWx1ZXM6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VUZXh0ID0gKG1lc3NhZ2UpID8gbWVzc2FnZSA6IChSZWFjdGl2ZUZvcm1Db25maWcgJiYgUmVhY3RpdmVGb3JtQ29uZmlnLmpzb24gJiYgUmVhY3RpdmVGb3JtQ29uZmlnLmpzb24udmFsaWRhdGlvbk1lc3NhZ2UgJiYgUmVhY3RpdmVGb3JtQ29uZmlnLmpzb24udmFsaWRhdGlvbk1lc3NhZ2Vba2V5XSk/IFJlYWN0aXZlRm9ybUNvbmZpZy5qc29uLnZhbGlkYXRpb25NZXNzYWdlW2tleV0gOiAnJztcclxuICAgICAgICB2YWx1ZXMuZm9yRWFjaCgodCAsaW5kZXgpPT4ge1xyXG4gICAgICAgICAgICBtZXNzYWdlVGV4dCA9IG1lc3NhZ2VUZXh0LnJlcGxhY2UoYHt7JHtpbmRleH19fWAsIHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBqT2JqZWN0ID0ge307XHJcbiAgICAgICAgak9iamVjdFtrZXldID0ge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlVGV4dCwgcmVmVmFsdWVzOiB2YWx1ZXNcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBqT2JqZWN0O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIG51bGwoKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIExpbnEge1xyXG4gICAgc3RhdGljIGZ1bmN0aW9uQ3JlYXRvcihleHByZXNzaW9uKTogYW55IHtcclxuICAgICAgICB2YXIgZnVuY3Rpb25TZXR0ZXI6IGFueSA9IFtdO1xyXG4gICAgICAgIHZhciBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goL15cXHMqXFwoP1xccyooW14pXSopXFxzKlxcKT9cXHMqPT4oLiopLyk7XHJcbiAgICAgICAgdmFyIHNwbGl0U2VsZWN0ID0gbWF0Y2hbMl0uc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXRTZWxlY3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGVxdWFsVG9PcGVyYXRvciA9IHNwbGl0U2VsZWN0W2ldLm1hdGNoKC9eXFxzKlxcKD9cXHMqKFteKV0qKVxccypcXCk/XFxzKj09KC4qKS8pO1xyXG4gICAgICAgICAgICBpZiAoZXF1YWxUb09wZXJhdG9yICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvblNldHRlciA9IG5ldyBGdW5jdGlvbihtYXRjaFsxXSwgXCJyZXR1cm4gXCIgKyBlcXVhbFRvT3BlcmF0b3JbMF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXF1YWxUb09wZXJhdG9yID0gc3BsaXRTZWxlY3RbaV0ubWF0Y2goL15cXHMqXFwoP1xccyooW14pXSopXFxzKlxcKT9cXHMqPSguKikvKTtcclxuICAgICAgICAgICAgICAgIGlmIChlcXVhbFRvT3BlcmF0b3IgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblNldHRlciA9IG5ldyBGdW5jdGlvbihtYXRjaFsxXSwgXCJyZXR1cm4gXCIgKyBzcGxpdFNlbGVjdFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uU2V0dGVyID0gbmV3IEZ1bmN0aW9uKG1hdGNoWzFdLCBcInJldHVybiBcIiArIGVxdWFsVG9PcGVyYXRvclsyXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNwbGl0U2VsZWN0Lmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICBmdW5jdGlvblNldHRlciA9IHsgYWNjZXNzRnVuY3Rpb246IG5ldyBGdW5jdGlvbihtYXRjaFsxXSwgXCJyZXR1cm4gXCIgKyBtYXRjaFsyXSkgfTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb25TZXR0ZXI7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgSXNQYXNzZWQoak9iamVjdDogeyBba2V5OiBzdHJpbmddOiBhbnkgfSwgZXhwcmVzc2lvbjogYW55LCBwYXJlbnRPYmplY3Q6IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgZXhwcmVzc2lvbkZ1bmN0aW9uOiBGdW5jdGlvbiA9IGV4cHJlc3Npb247XHJcbiAgICAgICAgaWYgKHBhcmVudE9iamVjdCAmJiB0eXBlb2YgZXhwcmVzc2lvbiA9PSBcInN0cmluZ1wiKVxyXG4gICAgICAgICAgICBleHByZXNzaW9uRnVuY3Rpb24gPSBMaW5xLmZ1bmN0aW9uQ3JlYXRvcihleHByZXNzaW9uKTtcclxuICAgICAgICBpZiAocGFyZW50T2JqZWN0ICYmIGV4cHJlc3Npb25GdW5jdGlvbilcclxuICAgICAgICAgICAgcmV0dXJuIGV4cHJlc3Npb25GdW5jdGlvbihwYXJlbnRPYmplY3QsIGpPYmplY3QpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBleHByZXNzaW9uQ29sdW1ucyhleHByZXNzaW9uOiBhbnkpIHtcclxuICAgICAgICB2YXIgY29sdW1ucyA9IFtdO1xyXG4gICAgICAgIGxldCBzcGxpdEV4cHJlc3Npb25zID0gW107XHJcbiAgICAgICAgaWYgKHR5cGVvZiBleHByZXNzaW9uID09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgZXhwcmVzc2lvbi5zcGxpdChcIj0+XCIpWzFdLnNwbGl0KFwiICYmIFwiKS5mb3JFYWNoKHQgPT4ge1xyXG4gICAgICAgICAgICB0LnNwbGl0KFwiIHx8IFwiKS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAgICAgc3BsaXRFeHByZXNzaW9ucy5wdXNoKHgudHJpbSgpLnNwbGl0KCcgJylbMF0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgU3RyaW5nKGV4cHJlc3Npb24pLnNwbGl0KFwiIHJldHVybiBcIilbMV0uc3BsaXQoXCIgJiYgXCIpLmZvckVhY2godCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0LnNwbGl0KFwiIHx8IFwiKS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0RXhwcmVzc2lvbnMucHVzaCh4LnRyaW0oKS5zcGxpdCgnICcpWzBdKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgc3BsaXRFeHByZXNzaW9ucy5mb3JFYWNoKHQgPT4ge1xyXG4gICAgICAgICAgICB2YXIgc3BsaXRUZXh0ID0gdC5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICBpZiAoc3BsaXRUZXh0Lmxlbmd0aCA9PSAyKVxyXG4gICAgICAgICAgICAgICAgY29sdW1ucy5wdXNoKHsgcHJvcE5hbWU6IHNwbGl0VGV4dFsxXS50cmltKCkgfSk7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5UHJvcCA9IHNwbGl0VGV4dFsxXS5zcGxpdCgnWycpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGpPYmplY3QgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcE5hbWU6IHNwbGl0VGV4dFtzcGxpdFRleHQubGVuZ3RoIC0gMV0udHJpbSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdFByb3BOYW1lOiBhcnJheVByb3BbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlJbmRleDogYXJyYXlQcm9wLmxlbmd0aCA+IDEgPyBhcnJheVByb3BbMV0ucmVwbGFjZShcIl1cIiwgXCJcIikgOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaChqT2JqZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGNvbHVtbnM7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IEFic3RyYWN0Q29udHJvbCwgRm9ybUdyb3VwLCBGb3JtQXJyYXkgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBsaWNhdGlvblV0aWx7XHJcbiAgICBzdGF0aWMgZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbDogQWJzdHJhY3RDb250cm9sKSA6eyBba2V5OnN0cmluZ106YW55fSB7XHJcbiAgICAgICAgaWYgKGNvbnRyb2wucGFyZW50KSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudE9iamVjdFZhbHVlKGNvbnRyb2wucGFyZW50KVxyXG4gICAgICAgICAgICByZXR1cm4gcGFyZW50LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcGFyZW50T2JqZWN0VmFsdWUoY29udHJvbDogRm9ybUdyb3VwIHwgRm9ybUFycmF5KTogRm9ybUdyb3VwIHwgRm9ybUFycmF5IHtcclxuICAgICAgICBpZiAoIWNvbnRyb2wucGFyZW50KVxyXG4gICAgICAgICAgICByZXR1cm4gY29udHJvbDtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGNvbnRyb2wgPSB0aGlzLnBhcmVudE9iamVjdFZhbHVlKGNvbnRyb2wucGFyZW50KVxyXG4gICAgICAgIHJldHVybiBjb250cm9sXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldENvbmZpZ09iamVjdChjb25maWc6IGFueSk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIChjb25maWcgIT0gdW5kZWZpbmVkICYmIGNvbmZpZyAhPSB0cnVlKSA/IGNvbmZpZyA6IHt9O1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBBbm5vdGF0aW9uVHlwZXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7XHJcbiAgICBudW1lcmljOidudW1lcmljJyxcclxuICAgIHJlcXVpcmVkOiAncmVxdWlyZWQnLFxyXG4gICAgbWluTGVuZ3RoOiAnbWluTGVuZ3RoJyxcclxuICAgIG1heExlbmd0aDogJ21heExlbmd0aCcsXHJcbiAgICBtaW5OdW1iZXI6ICdtaW5OdW1iZXInLFxyXG4gICAgbWF4TnVtYmVyOiAnbWF4TnVtYmVyJyxcclxuICAgIHBhdHRlcm46ICdwYXR0ZXJuJyxcclxuICAgIHBhc3N3b3JkOidwYXNzd29yZCcsXHJcbiAgICBjb21wYXJlOiAnY29tcGFyZScsXHJcbiAgICBtaW5EYXRlOiAnbWluRGF0ZScsXHJcbiAgICBtYXhEYXRlOiAnbWF4RGF0ZScsXHJcbiAgICBhbHBoYTogJ2FscGhhJyxcclxuICAgIGFscGhhTnVtZXJpYzogJ2FscGhhTnVtZXJpYycsXHJcbiAgICBlbWFpbDogJ2VtYWlsJyxcclxuICAgIGhleENvbG9yOiAnaGV4Q29sb3InLFxyXG4gICAgbG93ZXJDYXNlOiAnbG93ZXJDYXNlJyxcclxuICAgIHVybDogJ3VybCcsXHJcbiAgICB1cHBlckNhc2U6ICd1cHBlckNhc2UnLFxyXG4gICAgbmVzdGVkOiAnbmVzdGVkJyxcclxuICAgIHByb3BBcnJheTogJ3Byb3BBcnJheScsXHJcbiAgICBwcm9wT2JqZWN0Oidwcm9wT2JqZWN0JyxcclxuICAgIGNvbnRhaW5zOiAnY29udGFpbnMnLFxyXG4gICAgcmFuZ2U6ICdyYW5nZScsXHJcbiAgICBjdXN0b206ICdjdXN0b20nLFxyXG4gICAgZGlnaXQ6XCJkaWdpdFwiLFxyXG4gICAgY3JlZGl0Q2FyZDpcImNyZWRpdENhcmRcIixcclxuICAgIHRpbWU6XCJ0aW1lXCIsXHJcbiAgICBqc29uOiBcImpzb25cIixcclxuICAgIGdyZWF0ZXJUaGFuOiBcImdyZWF0ZXJUaGFuXCIsXHJcbiAgICBncmVhdGVyVGhhbkVxdWFsVG86IFwiZ3JlYXRlclRoYW5FcXVhbFRvXCIsXHJcbiAgICBsZXNzVGhhbjogXCJsZXNzVGhhblwiLFxyXG4gICAgbGVzc1RoYW5FcXVhbFRvOiBcImxlc3NUaGFuRXF1YWxUb1wiXHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuLFxyXG4gICAgQWJzdHJhY3RDb250cm9sXHJcbn0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcblxyXG5pbXBvcnQgeyBSZWdleFZhbGlkYXRvciB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXZhbGlkYXRvclwiO1xyXG5pbXBvcnQgeyBSZWdFeFJ1bGUgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC1ydWxlc1wiO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIlxyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBBbHBoYUNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2FscGhhLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBMaW5xIH0gZnJvbSBcIi4uL3V0aWwvbGlucVwiO1xyXG5pbXBvcnQgeyBBcHBsaWNhdGlvblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9hcHAtdXRpbFwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWxwaGFWYWxpZGF0b3IoY29uZmlnOiBBbHBoYUNvbmZpZywgY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHM6c3RyaW5nW10pOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uZmlnID0gQXBwbGljYXRpb25VdGlsLmdldENvbmZpZ09iamVjdChjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmFsbG93V2hpdGVTcGFjZSlcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0UmVzdWx0ID0gUmVnZXhWYWxpZGF0b3IuaXNWYWxpZChjb250cm9sVmFsdWUsIFJlZ0V4UnVsZS5hbHBoYSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IFJlZ2V4VmFsaWRhdG9yLmlzVmFsaWQoY29udHJvbFZhbHVlLCBSZWdFeFJ1bGUuYWxwaGFXaXRoU3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0UmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLmFscGhhLCBjb25maWcubWVzc2FnZSB8fCBudWxsLCBbY29udHJvbFZhbHVlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IHJldHVybiBPYmplY3RNYWtlci5udWxsKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuLFxyXG4gICAgQWJzdHJhY3RDb250cm9sXHJcbn0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcblxyXG5pbXBvcnQgeyBSZWdleFZhbGlkYXRvciB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXZhbGlkYXRvclwiO1xyXG5pbXBvcnQgeyBSZWdFeFJ1bGUgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC1ydWxlc1wiO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIlxyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBBbHBoYUNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2FscGhhLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBcHBsaWNhdGlvblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9hcHAtdXRpbFwiO1xyXG5pbXBvcnQgeyBMaW5xIH0gZnJvbSBcIi4uL3V0aWwvbGlucVwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWxwaGFOdW1lcmljVmFsaWRhdG9yKGNvbmZpZzogQWxwaGFDb25maWcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uZmlnID0gQXBwbGljYXRpb25VdGlsLmdldENvbmZpZ09iamVjdChjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcuYWxsb3dXaGl0ZVNwYWNlKVxyXG4gICAgICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSBSZWdleFZhbGlkYXRvci5pc1ZhbGlkKGNvbnRyb2xWYWx1ZSwgUmVnRXhSdWxlLmFscGhhTnVtZXJpYyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGVzdFJlc3VsdCA9IFJlZ2V4VmFsaWRhdG9yLmlzVmFsaWQoY29udHJvbFZhbHVlLCBSZWdFeFJ1bGUuYWxwaGFOdW1lcmljV2l0aFNwYWNlKTtcclxuICAgICAgICAgICAgICAgIGlmICghdGVzdFJlc3VsdClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIudG9Kc29uKEFubm90YXRpb25UeXBlcy5hbHBoYU51bWVyaWMsIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sVmFsdWVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgRm9ybUdyb3VwLFxyXG4gICAgRm9ybUJ1aWxkZXIsXHJcbiAgICBWYWxpZGF0b3JzLFxyXG4gICAgVmFsaWRhdG9yLFxyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2xcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuXHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFJlZ0V4UnVsZSB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXJ1bGVzXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiXHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IElOVkFMSUQgfSBmcm9tIFwiLi4vY29uc3QvdmFsaWRhdG9yLmNvbnN0XCJcclxuaW1wb3J0IHsgQ29tcGFyZUNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2NvbXBhcmUtY29uZmlnXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlVmFsaWRhdG9yKGNvbmZpZzpDb21wYXJlQ29uZmlnKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBGb3JtR3JvdXApOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcclxuICAgICAgICBjb25zdCBjb21wYXJlQ29udHJvbCA9IGNvbnRyb2wucm9vdC5nZXQoW2NvbmZpZy5maWVsZE5hbWVdKTtcclxuICAgICAgICBjb25zdCBjb250cm9sVmFsdWUgPSBjb250cm9sLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmVDb250cm9sVmFsdWUgPSAoY29tcGFyZUNvbnRyb2wpID8gY29tcGFyZUNvbnRyb2wudmFsdWUgOiAnJztcclxuICAgICAgICBpZiAoUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhjb250cm9sVmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGlmICghKGNvbXBhcmVDb250cm9sICYmIGNvbXBhcmVDb250cm9sLnZhbHVlID09PSBjb250cm9sVmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbihBbm5vdGF0aW9uVHlwZXMuY29tcGFyZSwgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbnRyb2xWYWx1ZSwgY29tcGFyZUNvbnRyb2xWYWx1ZV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBWYWxpZGF0b3JGbixcclxuICAgIEFic3RyYWN0Q29udHJvbFxyXG59IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5cclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgUmVnRXhSdWxlIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtcnVsZXNcIjtcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCJcclxuaW1wb3J0IHsgT2JqZWN0TWFrZXIgfSBmcm9tIFwiLi4vdXRpbC9vYmplY3QtbWFrZXJcIjtcclxuaW1wb3J0IHsgRGVmYXVsdENvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2RlZmF1bHQtY29uZmlnXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1ZhbGlkYXRvcihjb25maWc6RGVmYXVsdENvbmZpZyk6IFZhbGlkYXRvckZuIHtcclxuICAgIHJldHVybiAoY29udHJvbDogQWJzdHJhY3RDb250cm9sKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbFZhbHVlID0gY29udHJvbC52YWx1ZTtcclxuICAgICAgICBjb25zdCBmb3JtR3JvdXBWYWx1ZSA9IEFwcGxpY2F0aW9uVXRpbC5nZXRQYXJlbnRPYmplY3RWYWx1ZShjb250cm9sKTtcclxuICAgICAgICBjb25maWcgPSBBcHBsaWNhdGlvblV0aWwuZ2V0Q29uZmlnT2JqZWN0KGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50T2JqZWN0ID0gKGNvbnRyb2wucGFyZW50KSA/IGNvbnRyb2wucGFyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChMaW5xLklzUGFzc2VkKGZvcm1Hcm91cFZhbHVlLCBjb25maWcuY29uZGl0aW9uYWxFeHByZXNzaW9ucywgcGFyZW50T2JqZWN0KSkge1xyXG4gICAgICAgICAgICBpZiAoUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhjb250cm9sVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udHJvbFZhbHVlLmluZGV4T2YoY29uZmlnLnZhbHVlKSA9PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIudG9Kc29uKEFubm90YXRpb25UeXBlcy5jb250YWlucywgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbmZpZy52YWx1ZSxjb250cm9sVmFsdWVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBWYWxpZGF0b3JGbixcclxuICAgIEFic3RyYWN0Q29udHJvbFxyXG59IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5cclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgUmVnRXhSdWxlIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtcnVsZXNcIjtcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCJcclxuaW1wb3J0IHsgT2JqZWN0TWFrZXIgfSBmcm9tIFwiLi4vdXRpbC9vYmplY3QtbWFrZXJcIjtcclxuaW1wb3J0IHsgQ3JlZGl0Q2FyZFR5cGUgfSBmcm9tIFwiLi4vZW51bXMvY3JlZGl0LWNhcmQtdHlwZVwiO1xyXG5pbXBvcnQgeyBDcmVkaXRDYXJkQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvY3JlZGl0LWNhcmQtY29uZmlnXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVkaXRDYXJkVmFsaWRhdG9yKGNvbmZpZzpDcmVkaXRDYXJkQ29uZmlnKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcclxuICAgICAgICBjb25zdCBjb250cm9sVmFsdWUgPSBjb250cm9sLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGZvcm1Hcm91cFZhbHVlID0gQXBwbGljYXRpb25VdGlsLmdldFBhcmVudE9iamVjdFZhbHVlKGNvbnRyb2wpO1xyXG4gICAgICAgIGNvbmZpZyA9IEFwcGxpY2F0aW9uVXRpbC5nZXRDb25maWdPYmplY3QoY29uZmlnKTtcclxuICAgICAgICBjb25zdCBwYXJlbnRPYmplY3QgPSAoY29udHJvbC5wYXJlbnQpID8gY29udHJvbC5wYXJlbnQudmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKExpbnEuSXNQYXNzZWQoZm9ybUdyb3VwVmFsdWUsIGNvbmZpZy5jb25kaXRpb25hbEV4cHJlc3Npb25zLCBwYXJlbnRPYmplY3QpKSB7XHJcbiAgICAgICAgICAgIGlmIChSZWdleFZhbGlkYXRvci5pc05vdEJsYW5rKGNvbnRyb2xWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjcmVkaXRDYXJkVHlwZSBvZiBjb25maWcuY3JlZGl0Q2FyZFR5cGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjcmVkaXRDYXJkVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENyZWRpdENhcmRUeXBlLkFtZXJpY2FuRXhwcmVzczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBSZWdleFZhbGlkYXRvci5pc1ZhbGlkKGNvbnRyb2xWYWx1ZSwgUmVnRXhSdWxlLmNyZWRpdENhcmQuQW1lcmljYW5FeHByZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENyZWRpdENhcmRUeXBlLkRpbmVyc0NsdWI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gUmVnZXhWYWxpZGF0b3IuaXNWYWxpZChjb250cm9sVmFsdWUsIFJlZ0V4UnVsZS5jcmVkaXRDYXJkLkRpbmVyc0NsdWIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ3JlZGl0Q2FyZFR5cGUuRGlzY292ZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gUmVnZXhWYWxpZGF0b3IuaXNWYWxpZChjb250cm9sVmFsdWUsIFJlZ0V4UnVsZS5jcmVkaXRDYXJkLkRpc2NvdmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENyZWRpdENhcmRUeXBlLkpDQjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBSZWdleFZhbGlkYXRvci5pc1ZhbGlkKGNvbnRyb2xWYWx1ZSwgUmVnRXhSdWxlLmNyZWRpdENhcmQuSkNCKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENyZWRpdENhcmRUeXBlLk1hZXN0cm86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gUmVnZXhWYWxpZGF0b3IuaXNWYWxpZChjb250cm9sVmFsdWUsIFJlZ0V4UnVsZS5jcmVkaXRDYXJkLk1hZXN0cm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ3JlZGl0Q2FyZFR5cGUuTWFzdGVyQ2FyZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBSZWdleFZhbGlkYXRvci5pc1ZhbGlkKGNvbnRyb2xWYWx1ZSwgUmVnRXhSdWxlLmNyZWRpdENhcmQuTWFzdGVyQ2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDcmVkaXRDYXJkVHlwZS5WaXNhOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IFJlZ2V4VmFsaWRhdG9yLmlzVmFsaWQoY29udHJvbFZhbHVlLCBSZWdFeFJ1bGUuY3JlZGl0Q2FyZC5WaXNhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIudG9Kc29uKEFubm90YXRpb25UeXBlcy5jcmVkaXRDYXJkLCBjb25maWcubWVzc2FnZSB8fCBudWxsLCBbY29udHJvbFZhbHVlXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2xcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuXHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFJlZ0V4UnVsZSB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXJ1bGVzXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiXHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IERpZ2l0Q29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvZGlnaXQtY29uZmlnXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaWdpdFZhbGlkYXRvcihjb25maWc6RGlnaXRDb25maWcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uZmlnID0gQXBwbGljYXRpb25VdGlsLmdldENvbmZpZ09iamVjdChjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkgeyAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIVJlZ2V4VmFsaWRhdG9yLmlzVmFsaWQoY29udHJvbFZhbHVlLCBSZWdFeFJ1bGUub25seURpZ2l0KSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIudG9Kc29uKEFubm90YXRpb25UeXBlcy5kaWdpdCwgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbnRyb2xWYWx1ZV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLm51bGwoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2x9IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5pbXBvcnQgeyBTSU1QTEVfRU1BSUxfVkFMSURBVElPTiB9IGZyb20gXCIuLi91dGlsL2Zvcm0tY29uc3RcIjtcclxuaW1wb3J0IHsgUmVnRXhSdWxlIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtcnVsZXNcIjtcclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgRW1haWxDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9lbWFpbC1jb25maWdcIjtcclxuaW1wb3J0IHsgTGlucSB9IGZyb20gXCIuLi91dGlsL2xpbnFcIjtcclxuaW1wb3J0IHsgQXBwbGljYXRpb25VdGlsIH0gZnJvbSBcIi4uL3V0aWwvYXBwLXV0aWxcIjtcclxuaW1wb3J0IHsgT2JqZWN0TWFrZXIgfSBmcm9tIFwiLi4vdXRpbC9pbmRleFwiO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVtYWlsVmFsaWRhdG9yKGNvbmZpZzpFbWFpbENvbmZpZyk6IFZhbGlkYXRvckZuIHtcclxuICAgIHJldHVybiAoY29udHJvbDogQWJzdHJhY3RDb250cm9sKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbFZhbHVlID0gY29udHJvbC52YWx1ZTtcclxuICAgICAgICBjb25maWcgPSBBcHBsaWNhdGlvblV0aWwuZ2V0Q29uZmlnT2JqZWN0KGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50T2JqZWN0ID0gKGNvbnRyb2wucGFyZW50KSA/IGNvbnRyb2wucGFyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChMaW5xLklzUGFzc2VkKGZvcm1Hcm91cFZhbHVlLCBjb25maWcuY29uZGl0aW9uYWxFeHByZXNzaW9ucywgcGFyZW50T2JqZWN0KSkge1xyXG4gICAgICAgICAgICBpZiAoUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhjb250cm9sVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIVJlZ2V4VmFsaWRhdG9yLmlzVmFsaWQoY29udHJvbFZhbHVlLCBSZWdFeFJ1bGUuYmFzaWNFbWFpbCApKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLmVtYWlsLCBjb25maWcubWVzc2FnZSB8fCBudWxsLCBbY29udHJvbFZhbHVlXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBWYWxpZGF0b3JGbixcclxuICAgIEFic3RyYWN0Q29udHJvbH0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcbmltcG9ydCB7IFJlZ0V4UnVsZSB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXJ1bGVzXCI7XHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IEhleENvbG9yQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvaGV4LWNvbG9yLWNvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhleENvbG9yVmFsaWRhdG9yKGNvbmZpZzpIZXhDb2xvckNvbmZpZyk6IFZhbGlkYXRvckZuIHtcclxuICAgIHJldHVybiAoY29udHJvbDogQWJzdHJhY3RDb250cm9sKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbFZhbHVlID0gY29udHJvbC52YWx1ZTtcclxuICAgICAgICBjb25zdCBmb3JtR3JvdXBWYWx1ZSA9IEFwcGxpY2F0aW9uVXRpbC5nZXRQYXJlbnRPYmplY3RWYWx1ZShjb250cm9sKTtcclxuICAgICAgICBjb25maWcgPSBBcHBsaWNhdGlvblV0aWwuZ2V0Q29uZmlnT2JqZWN0KGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50T2JqZWN0ID0gKGNvbnRyb2wucGFyZW50KSA/IGNvbnRyb2wucGFyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChMaW5xLklzUGFzc2VkKGZvcm1Hcm91cFZhbHVlLCBjb25maWcuY29uZGl0aW9uYWxFeHByZXNzaW9ucywgcGFyZW50T2JqZWN0KSkge1xyXG4gICAgICAgICAgICBpZiAoUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhjb250cm9sVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGV4UmVnZXggPSBjb25maWcuaXNTdHJpY3QgPyBSZWdFeFJ1bGUuc3RyaWN0SGV4Q29sb3IgOiBSZWdFeFJ1bGUuaGV4Q29sb3I7XHJcbiAgICAgICAgICAgICAgICBpZiAoIVJlZ2V4VmFsaWRhdG9yLmlzVmFsaWQoY29udHJvbFZhbHVlLCBoZXhSZWdleCkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbihBbm5vdGF0aW9uVHlwZXMuaGV4Q29sb3IsIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sVmFsdWVdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPYmplY3RNYWtlci5udWxsKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuLFxyXG4gICAgQWJzdHJhY3RDb250cm9sfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgTWVzc2FnZUNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL21lc3NhZ2UtY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG93ZXJjYXNlVmFsaWRhdG9yKGNvbmZpZzpNZXNzYWdlQ29uZmlnKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcclxuICAgICAgICBjb25zdCBjb250cm9sVmFsdWUgPSBjb250cm9sLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGZvcm1Hcm91cFZhbHVlID0gQXBwbGljYXRpb25VdGlsLmdldFBhcmVudE9iamVjdFZhbHVlKGNvbnRyb2wpO1xyXG4gICAgICAgIGNvbmZpZyA9IEFwcGxpY2F0aW9uVXRpbC5nZXRDb25maWdPYmplY3QoY29uZmlnKTtcclxuICAgICAgICBjb25zdCBwYXJlbnRPYmplY3QgPSAoY29udHJvbC5wYXJlbnQpID8gY29udHJvbC5wYXJlbnQudmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKExpbnEuSXNQYXNzZWQoZm9ybUdyb3VwVmFsdWUsIGNvbmZpZy5jb25kaXRpb25hbEV4cHJlc3Npb25zLCBwYXJlbnRPYmplY3QpKSB7XHJcbiAgICAgICAgICAgIGlmIChSZWdleFZhbGlkYXRvci5pc05vdEJsYW5rKGNvbnRyb2xWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKGNvbnRyb2xWYWx1ZSA9PT0gY29udHJvbFZhbHVlLnRvTG93ZXJDYXNlKCkpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLmxvd2VyQ2FzZSwgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbnRyb2xWYWx1ZV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLm51bGwoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2xcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgRGF0ZUNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2RhdGUtY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IFJlZ0V4UnVsZSB9IGZyb20gXCIuLi91dGlsL2luZGV4XCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWF4RGF0ZVZhbGlkYXRvcihjb25maWc6RGF0ZUNvbmZpZyk6IFZhbGlkYXRvckZuIHtcclxuICAgIHJldHVybiAoY29udHJvbDogQWJzdHJhY3RDb250cm9sKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbFZhbHVlID0gY29udHJvbC52YWx1ZTtcclxuICAgICAgICBjb25zdCBmb3JtR3JvdXBWYWx1ZSA9IEFwcGxpY2F0aW9uVXRpbC5nZXRQYXJlbnRPYmplY3RWYWx1ZShjb250cm9sKTtcclxuICAgICAgICBjb25maWcgPSBBcHBsaWNhdGlvblV0aWwuZ2V0Q29uZmlnT2JqZWN0KGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50T2JqZWN0ID0gKGNvbnRyb2wucGFyZW50KSA/IGNvbnRyb2wucGFyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChMaW5xLklzUGFzc2VkKGZvcm1Hcm91cFZhbHVlLCBjb25maWcuY29uZGl0aW9uYWxFeHByZXNzaW9ucywgcGFyZW50T2JqZWN0KSkge1xyXG4gICAgICAgICAgICBpZiAoUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhjb250cm9sVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoUmVnZXhWYWxpZGF0b3IuaXNWYWxpZChjb250cm9sVmFsdWUsIFJlZ0V4UnVsZS5kYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXhEYXRlID0gY29uZmlnLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50VmFsdWVEYXRlID0gbmV3IERhdGUoY29udHJvbFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShtYXhEYXRlID0+IGNvbnRyb2xWYWx1ZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLm1heERhdGUsIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sLnZhbHVlXSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLm1heERhdGUsIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sLnZhbHVlXSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPYmplY3RNYWtlci5udWxsKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuLFxyXG4gICAgQWJzdHJhY3RDb250cm9sXHJcbn0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IE51bWJlckNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL251bWJlci1jb25maWdcIjtcclxuaW1wb3J0IHsgTGlucSB9IGZyb20gXCIuLi91dGlsL2xpbnFcIjtcclxuaW1wb3J0IHsgQXBwbGljYXRpb25VdGlsIH0gZnJvbSBcIi4uL3V0aWwvYXBwLXV0aWxcIjtcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXhMZW5ndGhWYWxpZGF0b3IoY29uZmlnOiBOdW1iZXJDb25maWcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uZmlnID0gQXBwbGljYXRpb25VdGlsLmdldENvbmZpZ09iamVjdChjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoY29udHJvbFZhbHVlLmxlbmd0aCA8PSBjb25maWcudmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLm1heExlbmd0aCwgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbnRyb2xWYWx1ZV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLm51bGwoKTtcclxuXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuLFxyXG4gICAgQWJzdHJhY3RDb250cm9sfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgTnVtYmVyQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvbnVtYmVyLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBMaW5xIH0gZnJvbSBcIi4uL3V0aWwvbGlucVwiO1xyXG5pbXBvcnQgeyBBcHBsaWNhdGlvblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9hcHAtdXRpbFwiO1xyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1heE51bWJlclZhbGlkYXRvcihjb25maWc6TnVtYmVyQ29uZmlnKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcclxuICAgICAgICBjb25zdCBjb250cm9sVmFsdWUgPSBjb250cm9sLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGZvcm1Hcm91cFZhbHVlID0gQXBwbGljYXRpb25VdGlsLmdldFBhcmVudE9iamVjdFZhbHVlKGNvbnRyb2wpO1xyXG4gICAgICAgIGNvbmZpZyA9IEFwcGxpY2F0aW9uVXRpbC5nZXRDb25maWdPYmplY3QoY29uZmlnKTtcclxuICAgICAgICBjb25zdCBwYXJlbnRPYmplY3QgPSAoY29udHJvbC5wYXJlbnQpID8gY29udHJvbC5wYXJlbnQudmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKExpbnEuSXNQYXNzZWQoZm9ybUdyb3VwVmFsdWUsIGNvbmZpZy5jb25kaXRpb25hbEV4cHJlc3Npb25zLCBwYXJlbnRPYmplY3QpKSB7XHJcbiAgICAgICAgICAgIGlmIChSZWdleFZhbGlkYXRvci5pc05vdEJsYW5rKGNvbnRyb2xWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKHBhcnNlRmxvYXQoY29udHJvbFZhbHVlKSA8PSBjb25maWcudmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLm1heE51bWJlciwgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbnRyb2xWYWx1ZV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLm51bGwoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2xcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgRGF0ZUNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2RhdGUtY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IFJlZ0V4UnVsZSB9IGZyb20gXCIuLi91dGlsL2luZGV4XCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWluRGF0ZVZhbGlkYXRvcihjb25maWc6IERhdGVDb25maWcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uZmlnID0gQXBwbGljYXRpb25VdGlsLmdldENvbmZpZ09iamVjdChjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzVmFsaWQoY29udHJvbFZhbHVlLCBSZWdFeFJ1bGUuZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWluRGF0ZSA9IG5ldyBEYXRlKGNvbmZpZy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDb250cm9sVmFsdWUgPSBuZXcgRGF0ZShjb250cm9sVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGN1cnJlbnRDb250cm9sVmFsdWUgPj0gbWluRGF0ZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLm1pbkRhdGUsIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sLnZhbHVlXSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLm1pbkRhdGUsIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sLnZhbHVlXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBWYWxpZGF0b3JGbixcclxuICAgIEFic3RyYWN0Q29udHJvbFxyXG59IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5pbXBvcnQgeyBSZWdleFZhbGlkYXRvciB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXZhbGlkYXRvclwiO1xyXG5pbXBvcnQgeyBOdW1iZXJDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9udW1iZXItY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWluTGVuZ3RoVmFsaWRhdG9yKGNvbmZpZzpOdW1iZXJDb25maWcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uZmlnID0gQXBwbGljYXRpb25VdGlsLmdldENvbmZpZ09iamVjdChjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoU3RyaW5nKGNvbnRyb2xWYWx1ZSkubGVuZ3RoID49IGNvbmZpZy52YWx1ZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbihBbm5vdGF0aW9uVHlwZXMubWluTGVuZ3RoLCBjb25maWcubWVzc2FnZSB8fCBudWxsLCBbY29udHJvbFZhbHVlXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2xcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgTnVtYmVyQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvbnVtYmVyLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBMaW5xIH0gZnJvbSBcIi4uL3V0aWwvbGlucVwiO1xyXG5pbXBvcnQgeyBBcHBsaWNhdGlvblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9hcHAtdXRpbFwiO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgT2JqZWN0TWFrZXIgfSBmcm9tIFwiLi4vdXRpbC9vYmplY3QtbWFrZXJcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbk51bWJlclZhbGlkYXRvcihjb25maWc6TnVtYmVyQ29uZmlnKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcclxuICAgICAgICBsZXQgY29udHJvbFZhbHVlID0gY29udHJvbC52YWx1ZTtcclxuICAgICAgICBjb25zdCBmb3JtR3JvdXBWYWx1ZSA9IEFwcGxpY2F0aW9uVXRpbC5nZXRQYXJlbnRPYmplY3RWYWx1ZShjb250cm9sKTtcclxuICAgICAgICBjb25maWcgPSBBcHBsaWNhdGlvblV0aWwuZ2V0Q29uZmlnT2JqZWN0KGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50T2JqZWN0ID0gKGNvbnRyb2wucGFyZW50KSA/IGNvbnRyb2wucGFyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChMaW5xLklzUGFzc2VkKGZvcm1Hcm91cFZhbHVlLCBjb25maWcuY29uZGl0aW9uYWxFeHByZXNzaW9ucywgcGFyZW50T2JqZWN0KSkge1xyXG4gICAgICAgIGlmIChSZWdleFZhbGlkYXRvci5pc05vdEJsYW5rKGNvbnRyb2xWYWx1ZSkpIHtcclxuICAgICAgICAgICAgaWYgKCEocGFyc2VGbG9hdChjb250cm9sVmFsdWUpID49IGNvbmZpZy52YWx1ZSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIudG9Kc29uKEFubm90YXRpb25UeXBlcy5taW5OdW1iZXIsIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sVmFsdWVdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPYmplY3RNYWtlci5udWxsKCk7XHJcblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBWYWxpZGF0b3JGbixcclxuICAgIEFic3RyYWN0Q29udHJvbFxyXG59IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5pbXBvcnQgeyBSZWdleFZhbGlkYXRvciB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXZhbGlkYXRvclwiO1xyXG5pbXBvcnQgeyBQYXNzd29yZFZhbGlkYXRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL3Bhc3N3b3JkLXZhbGlkYXRpb24ubW9kZWxcIjtcclxuaW1wb3J0IHsgUGFzc3dvcmRDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9wYXNzd29yZC1jb25maWdcIjtcclxuaW1wb3J0IHsgTGlucSB9IGZyb20gXCIuLi91dGlsL2xpbnFcIjtcclxuaW1wb3J0IHsgQXBwbGljYXRpb25VdGlsIH0gZnJvbSBcIi4uL3V0aWwvYXBwLXV0aWxcIjtcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXNzd29yZFZhbGlkYXRvcihjb25maWc6UGFzc3dvcmRDb25maWcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGxldCBjb250cm9sVmFsdWUgPSBjb250cm9sLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGZvcm1Hcm91cFZhbHVlID0gQXBwbGljYXRpb25VdGlsLmdldFBhcmVudE9iamVjdFZhbHVlKGNvbnRyb2wpO1xyXG4gICAgICAgIGlmIChSZWdleFZhbGlkYXRvci5pc05vdEJsYW5rKGNvbnRyb2xWYWx1ZSkpIHtcclxuICAgICAgICAgICAgbGV0IHZhbGlkYXRpb24gPSBSZWdleFZhbGlkYXRvci5pc1ZhbGlkUGFzc3dvcmQoY29uZmlnLnZhbGlkYXRpb24sIGNvbnRyb2xWYWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGlvbi5pc1ZhbGlkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbih2YWxpZGF0aW9uLmtleU5hbWUsIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sVmFsdWVdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLm51bGwoKTtcclxuXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuLFxyXG4gICAgQWJzdHJhY3RDb250cm9sXHJcbn0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFJhbmdlQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcmFuZ2UtY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2VWYWxpZGF0b3IoY29uZmlnOlJhbmdlQ29uZmlnKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcclxuICAgICAgICBsZXQgY29udHJvbFZhbHVlID0gY29udHJvbC52YWx1ZTtcclxuICAgICAgICBjb25zdCBmb3JtR3JvdXBWYWx1ZSA9IEFwcGxpY2F0aW9uVXRpbC5nZXRQYXJlbnRPYmplY3RWYWx1ZShjb250cm9sKTtcclxuICAgICAgICBjb25maWcgPSBBcHBsaWNhdGlvblV0aWwuZ2V0Q29uZmlnT2JqZWN0KGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50T2JqZWN0ID0gKGNvbnRyb2wucGFyZW50KSA/IGNvbnRyb2wucGFyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChMaW5xLklzUGFzc2VkKGZvcm1Hcm91cFZhbHVlLCBjb25maWcuY29uZGl0aW9uYWxFeHByZXNzaW9ucywgcGFyZW50T2JqZWN0KSkge1xyXG4gICAgICAgICAgICBpZiAoUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhjb250cm9sVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShTdHJpbmcoY29udHJvbFZhbHVlKS5pbmRleE9mKFwiLlwiKSA9PSAtMSAmJiBwYXJzZUludChjb250cm9sVmFsdWUpID49IGNvbmZpZy5taW5pbXVtTnVtYmVyICYmIHBhcnNlSW50KGNvbnRyb2xWYWx1ZSkgPD0gY29uZmlnLm1heGltdW1OdW1iZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24oQW5ub3RhdGlvblR5cGVzLnJhbmdlLCBjb25maWcubWVzc2FnZSB8fCBudWxsLCBbY29uZmlnLm1pbmltdW1OdW1iZXIsIGNvbmZpZy5tYXhpbXVtTnVtYmVyLCBjb250cm9sVmFsdWVdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPYmplY3RNYWtlci5udWxsKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuLFxyXG4gICAgQWJzdHJhY3RDb250cm9sXHJcbn0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9tZXNzYWdlLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBcHBsaWNhdGlvblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9hcHAtdXRpbFwiO1xyXG5pbXBvcnQgeyBMaW5xIH0gZnJvbSBcIi4uL3V0aWwvbGlucVwiO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgT2JqZWN0TWFrZXIgfSBmcm9tIFwiLi4vdXRpbC9vYmplY3QtbWFrZXJcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwcGVyY2FzZVZhbGlkYXRvcihjb25maWc6IE1lc3NhZ2VDb25maWcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uZmlnID0gQXBwbGljYXRpb25VdGlsLmdldENvbmZpZ09iamVjdChjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoY29udHJvbFZhbHVlID09PSBjb250cm9sVmFsdWUudG9VcHBlckNhc2UoKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbihBbm5vdGF0aW9uVHlwZXMudXBwZXJDYXNlLCBjb25maWcubWVzc2FnZSB8fCBudWxsLCBbY29udHJvbFZhbHVlXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2xcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgTWVzc2FnZUNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL21lc3NhZ2UtY29uZmlnXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IFJlcXVpcmVkQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcmVxdWlyZWQtY29uZmlnXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWRWYWxpZGF0b3IoY29uZmlnOiBSZXF1aXJlZENvbmZpZyk6IFZhbGlkYXRvckZuIHtcclxuICAgIHJldHVybiAoY29udHJvbDogQWJzdHJhY3RDb250cm9sKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbFZhbHVlID0gY29udHJvbC52YWx1ZTtcclxuICAgICAgICBjb25zdCBmb3JtR3JvdXBWYWx1ZSA9IEFwcGxpY2F0aW9uVXRpbC5nZXRQYXJlbnRPYmplY3RWYWx1ZShjb250cm9sKTtcclxuICAgICAgICBjb25maWcgPSBBcHBsaWNhdGlvblV0aWwuZ2V0Q29uZmlnT2JqZWN0KGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50T2JqZWN0ID0gKGNvbnRyb2wucGFyZW50KSA/IGNvbnRyb2wucGFyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChMaW5xLklzUGFzc2VkKGZvcm1Hcm91cFZhbHVlLCBjb25maWcuY29uZGl0aW9uYWxFeHByZXNzaW9ucywgcGFyZW50T2JqZWN0KSkge1xyXG4gICAgICAgICAgICBpZiAoIVJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbihBbm5vdGF0aW9uVHlwZXMucmVxdWlyZWQsIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sVmFsdWVdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPYmplY3RNYWtlci5udWxsKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuLFxyXG4gICAgQWJzdHJhY3RDb250cm9sXHJcbn0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFJhbmdlQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcmFuZ2UtY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBQYXR0ZXJuQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcGF0dGVybi1jb25maWdcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBhdHRlcm5WYWxpZGF0b3IoY29uZmlnOiBQYXR0ZXJuQ29uZmlnKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcclxuICAgICAgICBsZXQgY29udHJvbFZhbHVlID0gY29udHJvbC52YWx1ZTtcclxuICAgICAgICBjb25zdCBmb3JtR3JvdXBWYWx1ZSA9IEFwcGxpY2F0aW9uVXRpbC5nZXRQYXJlbnRPYmplY3RWYWx1ZShjb250cm9sKTtcclxuICAgICAgICBjb25maWcgPSBBcHBsaWNhdGlvblV0aWwuZ2V0Q29uZmlnT2JqZWN0KGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50T2JqZWN0ID0gKGNvbnRyb2wucGFyZW50KSA/IGNvbnRyb2wucGFyZW50LnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChMaW5xLklzUGFzc2VkKGZvcm1Hcm91cFZhbHVlLCBjb25maWcuY29uZGl0aW9uYWxFeHByZXNzaW9ucywgcGFyZW50T2JqZWN0KSkge1xyXG4gICAgICAgICAgICBpZiAoUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhjb250cm9sVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwYXR0ZXJuIGluIGNvbmZpZy5wYXR0ZXJuKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKFJlZ2V4VmFsaWRhdG9yLmlzVmFsaWQoY29udHJvbFZhbHVlLCBjb25maWcucGF0dGVybltwYXR0ZXJuXSkpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RNYWtlci50b0pzb24ocGF0dGVybiwgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbnRyb2xWYWx1ZV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLm51bGwoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2xcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuXHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFJlZ0V4UnVsZSB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXJ1bGVzXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiXHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IFRpbWVDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy90aW1lLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBMaW5xIH0gZnJvbSBcIi4uL3V0aWwvbGlucVwiO1xyXG5pbXBvcnQgeyBBcHBsaWNhdGlvblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9hcHAtdXRpbFwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGltZVZhbGlkYXRvcihjb25maWc6IFRpbWVDb25maWcsIGNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzOnN0cmluZ1tdKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+IHtcclxuICAgICAgICBjb25zdCBjb250cm9sVmFsdWUgPSBjb250cm9sLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGZvcm1Hcm91cFZhbHVlID0gQXBwbGljYXRpb25VdGlsLmdldFBhcmVudE9iamVjdFZhbHVlKGNvbnRyb2wpO1xyXG4gICAgICAgIGNvbmZpZyA9IEFwcGxpY2F0aW9uVXRpbC5nZXRDb25maWdPYmplY3QoY29uZmlnKTtcclxuICAgICAgICBjb25zdCBwYXJlbnRPYmplY3QgPSAoY29udHJvbC5wYXJlbnQpID8gY29udHJvbC5wYXJlbnQudmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKExpbnEuSXNQYXNzZWQoZm9ybUdyb3VwVmFsdWUsIGNvbmZpZy5jb25kaXRpb25hbEV4cHJlc3Npb25zLCBwYXJlbnRPYmplY3QpKSB7XHJcbiAgICAgICAgICAgIGlmIChSZWdleFZhbGlkYXRvci5pc05vdEJsYW5rKGNvbnRyb2xWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0UmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWVMZW5ndGggPSA1O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcuYWxsb3dTZWNvbmRzKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlTGVuZ3RoID0gODtcclxuICAgICAgICAgICAgICAgIHRlc3RSZXN1bHQgPSBSZWdleFZhbGlkYXRvci5pc1ZhbGlkKGNvbnRyb2xWYWx1ZSwgUmVnRXhSdWxlLnRpbWUpICYmIGNvbnRyb2xWYWx1ZS5sZW5ndGggPT0gdmFsdWVMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRlc3RSZXN1bHQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbihBbm5vdGF0aW9uVHlwZXMudGltZSwgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbnRyb2xWYWx1ZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBWYWxpZGF0b3JGbixcclxuICAgIEFic3RyYWN0Q29udHJvbFxyXG59IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5cclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgUmVnRXhSdWxlIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtcnVsZXNcIjtcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCJcclxuaW1wb3J0IHsgT2JqZWN0TWFrZXIgfSBmcm9tIFwiLi4vdXRpbC9vYmplY3QtbWFrZXJcIjtcclxuaW1wb3J0IHsgRGVmYXVsdENvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2RlZmF1bHQtY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cmxWYWxpZGF0b3IoY29uZmlnOiBEZWZhdWx0Q29uZmlnLCBjb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wczogc3RyaW5nW10pOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uZmlnID0gQXBwbGljYXRpb25VdGlsLmdldENvbmZpZ09iamVjdChjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFSZWdleFZhbGlkYXRvci5pc1ZhbGlkKGNvbnRyb2xWYWx1ZSwgUmVnRXhSdWxlLnVybCkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbihBbm5vdGF0aW9uVHlwZXMudXJsLCBjb25maWcubWVzc2FnZSB8fCBudWxsLCBbY29udHJvbFZhbHVlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IHJldHVybiBPYmplY3RNYWtlci5udWxsKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFZhbGlkYXRvckZuLFxyXG4gICAgQWJzdHJhY3RDb250cm9sXHJcbn0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcblxyXG5pbXBvcnQgeyBSZWdleFZhbGlkYXRvciB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXZhbGlkYXRvclwiO1xyXG5pbXBvcnQgeyBSZWdFeFJ1bGUgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC1ydWxlc1wiO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIlxyXG5pbXBvcnQgeyBPYmplY3RNYWtlciB9IGZyb20gXCIuLi91dGlsL29iamVjdC1tYWtlclwiO1xyXG5pbXBvcnQgeyBEZWZhdWx0Q29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvZGVmYXVsdC1jb25maWdcIjtcclxuaW1wb3J0IHsgTGlucSB9IGZyb20gXCIuLi91dGlsL2xpbnFcIjtcclxuaW1wb3J0IHsgQXBwbGljYXRpb25VdGlsIH0gZnJvbSBcIi4uL3V0aWwvYXBwLXV0aWxcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGpzb25WYWxpZGF0b3IoY29uZmlnOiBEZWZhdWx0Q29uZmlnLCBjb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wczogc3RyaW5nW10pOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgZm9ybUdyb3VwVmFsdWUgPSBBcHBsaWNhdGlvblV0aWwuZ2V0UGFyZW50T2JqZWN0VmFsdWUoY29udHJvbCk7XHJcbiAgICAgICAgY29uZmlnID0gQXBwbGljYXRpb25VdGlsLmdldENvbmZpZ09iamVjdChjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsoY29udHJvbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoY29udHJvbFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaChleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbihBbm5vdGF0aW9uVHlwZXMuanNvbiwgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbnRyb2xWYWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBGb3JtR3JvdXAsXHJcbiAgICBGb3JtQnVpbGRlcixcclxuICAgIFZhbGlkYXRvcnMsXHJcbiAgICBWYWxpZGF0b3IsXHJcbiAgICBWYWxpZGF0b3JGbixcclxuICAgIEFic3RyYWN0Q29udHJvbFxyXG59IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5cclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgUmVnRXhSdWxlIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtcnVsZXNcIjtcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCJcclxuaW1wb3J0IHsgT2JqZWN0TWFrZXIgfSBmcm9tIFwiLi4vdXRpbC9vYmplY3QtbWFrZXJcIjtcclxuaW1wb3J0IHsgSU5WQUxJRCB9IGZyb20gXCIuLi9jb25zdC92YWxpZGF0b3IuY29uc3RcIlxyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IFJlbGF0aW9uYWxPcGVyYXRvckNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL3JlbGF0aW9uYWwtb3BlcmF0b3ItY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ3JlYXRlclRoYW5WYWxpZGF0b3IoY29uZmlnOiBSZWxhdGlvbmFsT3BlcmF0b3JDb25maWcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEZvcm1Hcm91cCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hdGNoQ29udHJvbCA9IGNvbnRyb2wucm9vdC5nZXQoW2NvbmZpZy5maWVsZE5hbWVdKTtcclxuICAgICAgICBjb25zdCBjb250cm9sVmFsdWUgPSBjb250cm9sLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IG1hdGNoQ29udHJvbFZhbHVlID0gKG1hdGNoQ29udHJvbCkgPyBtYXRjaENvbnRyb2wudmFsdWUgOiAnJztcclxuICAgICAgICBjb25zdCBmb3JtR3JvdXBWYWx1ZSA9IEFwcGxpY2F0aW9uVXRpbC5nZXRQYXJlbnRPYmplY3RWYWx1ZShjb250cm9sKTtcclxuICAgICAgICBjb25zdCBwYXJlbnRPYmplY3QgPSAoY29udHJvbC5wYXJlbnQpID8gY29udHJvbC5wYXJlbnQudmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKExpbnEuSXNQYXNzZWQoZm9ybUdyb3VwVmFsdWUsIGNvbmZpZy5jb25kaXRpb25hbEV4cHJlc3Npb25zLCBwYXJlbnRPYmplY3QpKSB7XHJcbiAgICAgICAgICAgIGlmIChSZWdleFZhbGlkYXRvci5pc05vdEJsYW5rKGNvbnRyb2xWYWx1ZSkgJiYgUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhtYXRjaENvbnRyb2xWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKG1hdGNoQ29udHJvbCAmJiBwYXJzZUZsb2F0KGNvbnRyb2xWYWx1ZSkgPiBwYXJzZUZsb2F0KG1hdGNoQ29udHJvbFZhbHVlKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLnRvSnNvbihBbm5vdGF0aW9uVHlwZXMuZ3JlYXRlclRoYW4sIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sVmFsdWUsIG1hdGNoQ29udHJvbFZhbHVlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLm51bGwoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgRm9ybUdyb3VwLFxyXG4gICAgRm9ybUJ1aWxkZXIsXHJcbiAgICBWYWxpZGF0b3JzLFxyXG4gICAgVmFsaWRhdG9yLFxyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2xcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuXHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFJlZ0V4UnVsZSB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXJ1bGVzXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiXHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IElOVkFMSUQgfSBmcm9tIFwiLi4vY29uc3QvdmFsaWRhdG9yLmNvbnN0XCJcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5pbXBvcnQgeyBSZWxhdGlvbmFsT3BlcmF0b3JDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9yZWxhdGlvbmFsLW9wZXJhdG9yLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBMaW5xIH0gZnJvbSBcIi4uL3V0aWwvbGlucVwiO1xyXG5pbXBvcnQgeyBBcHBsaWNhdGlvblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9hcHAtdXRpbFwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdyZWF0ZXJUaGFuRXF1YWxUb1ZhbGlkYXRvcihjb25maWc6IFJlbGF0aW9uYWxPcGVyYXRvckNvbmZpZyk6IFZhbGlkYXRvckZuIHtcclxuICAgIHJldHVybiAoY29udHJvbDogRm9ybUdyb3VwKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hDb250cm9sID0gY29udHJvbC5yb290LmdldChbY29uZmlnLmZpZWxkTmFtZV0pO1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hDb250cm9sVmFsdWUgPSAobWF0Y2hDb250cm9sKSA/IG1hdGNoQ29udHJvbC52YWx1ZSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGZvcm1Hcm91cFZhbHVlID0gQXBwbGljYXRpb25VdGlsLmdldFBhcmVudE9iamVjdFZhbHVlKGNvbnRyb2wpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKChSZWdleFZhbGlkYXRvci5pc05vdEJsYW5rKGNvbnRyb2xWYWx1ZSkgJiYgUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhtYXRjaENvbnRyb2xWYWx1ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShtYXRjaENvbnRyb2wgJiYgcGFyc2VGbG9hdChjb250cm9sVmFsdWUpID49IHBhcnNlRmxvYXQobWF0Y2hDb250cm9sVmFsdWUpKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIudG9Kc29uKEFubm90YXRpb25UeXBlcy5ncmVhdGVyVGhhbkVxdWFsVG8sIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sVmFsdWUsIG1hdGNoQ29udHJvbFZhbHVlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdE1ha2VyLm51bGwoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgRm9ybUdyb3VwLFxyXG4gICAgRm9ybUJ1aWxkZXIsXHJcbiAgICBWYWxpZGF0b3JzLFxyXG4gICAgVmFsaWRhdG9yLFxyXG4gICAgVmFsaWRhdG9yRm4sXHJcbiAgICBBYnN0cmFjdENvbnRyb2xcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuXHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFJlZ0V4UnVsZSB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXJ1bGVzXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiXHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IElOVkFMSUQgfSBmcm9tIFwiLi4vY29uc3QvdmFsaWRhdG9yLmNvbnN0XCJcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5pbXBvcnQgeyBSZWxhdGlvbmFsT3BlcmF0b3JDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9yZWxhdGlvbmFsLW9wZXJhdG9yLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBMaW5xIH0gZnJvbSBcIi4uL3V0aWwvbGlucVwiO1xyXG5pbXBvcnQgeyBBcHBsaWNhdGlvblV0aWwgfSBmcm9tIFwiLi4vdXRpbC9hcHAtdXRpbFwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlc3NUaGFuRXF1YWxUb1ZhbGlkYXRvcihjb25maWc6IFJlbGF0aW9uYWxPcGVyYXRvckNvbmZpZyk6IFZhbGlkYXRvckZuIHtcclxuICAgIHJldHVybiAoY29udHJvbDogRm9ybUdyb3VwKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hDb250cm9sID0gY29udHJvbC5yb290LmdldChbY29uZmlnLmZpZWxkTmFtZV0pO1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xWYWx1ZSA9IGNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hDb250cm9sVmFsdWUgPSAobWF0Y2hDb250cm9sKSA/IG1hdGNoQ29udHJvbC52YWx1ZSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGZvcm1Hcm91cFZhbHVlID0gQXBwbGljYXRpb25VdGlsLmdldFBhcmVudE9iamVjdFZhbHVlKGNvbnRyb2wpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IChjb250cm9sLnBhcmVudCkgPyBjb250cm9sLnBhcmVudC52YWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoTGlucS5Jc1Bhc3NlZChmb3JtR3JvdXBWYWx1ZSwgY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMsIHBhcmVudE9iamVjdCkpIHtcclxuICAgICAgICAgICAgaWYgKChSZWdleFZhbGlkYXRvci5pc05vdEJsYW5rKGNvbnRyb2xWYWx1ZSkgJiYgUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhtYXRjaENvbnRyb2xWYWx1ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShtYXRjaENvbnRyb2wgJiYgcGFyc2VGbG9hdChjb250cm9sVmFsdWUpIDw9IHBhcnNlRmxvYXQobWF0Y2hDb250cm9sVmFsdWUpKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIudG9Kc29uKEFubm90YXRpb25UeXBlcy5sZXNzVGhhbkVxdWFsVG8sIGNvbmZpZy5tZXNzYWdlIHx8IG51bGwsIFtjb250cm9sVmFsdWUsIG1hdGNoQ29udHJvbFZhbHVlXSk7ICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBGb3JtR3JvdXAsXHJcbiAgICBGb3JtQnVpbGRlcixcclxuICAgIFZhbGlkYXRvcnMsXHJcbiAgICBWYWxpZGF0b3IsXHJcbiAgICBWYWxpZGF0b3JGbixcclxuICAgIEFic3RyYWN0Q29udHJvbFxyXG59IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xyXG5cclxuaW1wb3J0IHsgUmVnZXhWYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbC9yZWdleC12YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgUmVnRXhSdWxlIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtcnVsZXNcIjtcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCJcclxuaW1wb3J0IHsgT2JqZWN0TWFrZXIgfSBmcm9tIFwiLi4vdXRpbC9vYmplY3QtbWFrZXJcIjtcclxuaW1wb3J0IHsgSU5WQUxJRCB9IGZyb20gXCIuLi9jb25zdC92YWxpZGF0b3IuY29uc3RcIlxyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IFJlbGF0aW9uYWxPcGVyYXRvckNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL3JlbGF0aW9uYWwtb3BlcmF0b3ItY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVzc1RoYW5WYWxpZGF0b3IoY29uZmlnOiBSZWxhdGlvbmFsT3BlcmF0b3JDb25maWcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEZvcm1Hcm91cCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hdGNoQ29udHJvbCA9IGNvbnRyb2wucm9vdC5nZXQoW2NvbmZpZy5maWVsZE5hbWVdKTtcclxuICAgICAgICBjb25zdCBjb250cm9sVmFsdWUgPSBjb250cm9sLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IG1hdGNoQ29udHJvbFZhbHVlID0gKG1hdGNoQ29udHJvbCkgPyBtYXRjaENvbnRyb2wudmFsdWUgOiAnJztcclxuICAgICAgICBjb25zdCBmb3JtR3JvdXBWYWx1ZSA9IEFwcGxpY2F0aW9uVXRpbC5nZXRQYXJlbnRPYmplY3RWYWx1ZShjb250cm9sKTtcclxuICAgICAgICBjb25zdCBwYXJlbnRPYmplY3QgPSAoY29udHJvbC5wYXJlbnQpID8gY29udHJvbC5wYXJlbnQudmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKExpbnEuSXNQYXNzZWQoZm9ybUdyb3VwVmFsdWUsIGNvbmZpZy5jb25kaXRpb25hbEV4cHJlc3Npb25zLCBwYXJlbnRPYmplY3QpKSB7XHJcbiAgICAgICAgICAgIGlmICgoUmVnZXhWYWxpZGF0b3IuaXNOb3RCbGFuayhjb250cm9sVmFsdWUpICYmIFJlZ2V4VmFsaWRhdG9yLmlzTm90QmxhbmsobWF0Y2hDb250cm9sVmFsdWUpKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEobWF0Y2hDb250cm9sICYmIHBhcnNlRmxvYXQoY29udHJvbFZhbHVlKSA8IHBhcnNlRmxvYXQobWF0Y2hDb250cm9sVmFsdWUpKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIudG9Kc29uKEFubm90YXRpb25UeXBlcy5sZXNzVGhhbiwgY29uZmlnLm1lc3NhZ2UgfHwgbnVsbCwgW2NvbnRyb2xWYWx1ZSwgbWF0Y2hDb250cm9sVmFsdWVdKTsgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPYmplY3RNYWtlci5udWxsKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IElOVkFMSUQ6IHN0cmluZyA9IFwiSU5WQUxJRFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBST1BFUlRZOiBzdHJpbmcgPSBcInByb3BlcnR5XCI7XHJcblxyXG5leHBvcnQgY29uc3QgT0JKRUNUX1BST1BFUlRZOiBzdHJpbmcgPSBcIm9iamVjdFByb3BlcnR5XCI7XHJcblxyXG5leHBvcnQgY29uc3QgQVJSQVlfUFJPUEVSVFk6IHN0cmluZyA9IFwiYXJyYXlQcm9wZXJ0eVwiXHJcbiIsImltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24sIEluc3RhbmNlQ29udGFpbmVyLCBQcm9wZXJ0eUluZm8gfSBmcm9tICcuL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBMaW5xIH0gZnJvbSBcIi4uL3V0aWwvbGlucVwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IFBST1BFUlRZIH0gZnJvbSBcIi4uL2NvbnN0XCI7XHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdENvbnRhaW5lcjpcclxuICAgIHtcclxuICAgICAgICBnZXQ8VD4oaW5zdGFuY2VGdW5jOiBhbnkpOiBJbnN0YW5jZUNvbnRhaW5lcixcclxuICAgICAgICBhZGRBbm5vdGF0aW9uKGluc3RhbmNlRnVuYzogYW55LCBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uKTogdm9pZCxcclxuICAgICAgICBhZGRJbnN0YW5jZUNvbnRhaW5lcihpbnN0YW5jZUZ1bmM6IGFueSk6IHZvaWRcclxuICAgICAgICBhZGRQcm9wZXJ0eShpbnN0YW5jZUZ1bmM6IGFueSwgcHJvcGVydHlJbmZvOiBQcm9wZXJ0eUluZm8pOiB2b2lkXHJcbiAgICAgICAgYWRkQ2hhbmdlVmFsaWRhdGlvbihpbnN0YW5jZTogSW5zdGFuY2VDb250YWluZXIsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBjb2x1bW5zOiBhbnlbXSk6dm9pZFxyXG4gICAgfSA9IG5ldyAoY2xhc3Mge1xyXG4gICAgICAgIHByaXZhdGUgaW5zdGFuY2VzOiBJbnN0YW5jZUNvbnRhaW5lcltdID0gW107XHJcblxyXG4gICAgICAgIGdldDxUPihpbnN0YW5jZUZ1bmM6IGFueSk6IEluc3RhbmNlQ29udGFpbmVyIHtcclxuICAgICAgICAgICAgbGV0IGluc3RhbmNlOiBJbnN0YW5jZUNvbnRhaW5lciA9IHRoaXMuaW5zdGFuY2VzLmZpbHRlcihpbnN0YW5jZSA9PiBpbnN0YW5jZS5pbnN0YW5jZSA9PT0gaW5zdGFuY2VGdW5jKVswXTtcclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkSW5zdGFuY2VDb250YWluZXIoaW5zdGFuY2VGdW5jOiBhbnkpOiBJbnN0YW5jZUNvbnRhaW5lciB7XHJcbiAgICAgICAgICAgIGxldCBpbnN0YW5jZUNvbnRhaW5lcjogSW5zdGFuY2VDb250YWluZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2VGdW5jLFxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlBbm5vdGF0aW9uczogW10sXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzLnB1c2goaW5zdGFuY2VDb250YWluZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VDb250YWluZXI7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgYWRkUHJvcGVydHkoaW5zdGFuY2VGdW5jOiBhbnksIHByb3BlcnR5SW5mbzogUHJvcGVydHlJbmZvKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGxldCBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzLmZpbHRlcihpbnN0YW5jZSA9PiBpbnN0YW5jZS5pbnN0YW5jZSA9PT0gaW5zdGFuY2VGdW5jKVswXTtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFByb3BlcnR5SW5mbyhpbnN0YW5jZSwgcHJvcGVydHlJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gdGhpcy5hZGRJbnN0YW5jZUNvbnRhaW5lcihpbnN0YW5jZUZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQcm9wZXJ0eUluZm8oaW5zdGFuY2UsIHByb3BlcnR5SW5mbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFkZFByb3BlcnR5SW5mbyhpbnN0YW5jZTogSW5zdGFuY2VDb250YWluZXIsIHByb3BlcnR5SW5mbzogUHJvcGVydHlJbmZvKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IGluc3RhbmNlLnByb3BlcnRpZXMuZmlsdGVyKHQgPT4gdC5uYW1lID09IHByb3BlcnR5SW5mby5uYW1lKVswXVxyXG4gICAgICAgICAgICBpZiAoIXByb3BlcnR5KVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UucHJvcGVydGllcy5wdXNoKHByb3BlcnR5SW5mbyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhZGRBbm5vdGF0aW9uKGluc3RhbmNlRnVuYzogYW55LCBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkUHJvcGVydHkoaW5zdGFuY2VGdW5jLCB7IHByb3BlcnR5VHlwZTogUFJPUEVSVFksIG5hbWU6IGRlY29yYXRvckNvbmZpZ3VyYXRpb24ucHJvcGVydHlOYW1lIH0pO1xyXG4gICAgICAgICAgICBsZXQgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5maWx0ZXIoaW5zdGFuY2UgPT4gaW5zdGFuY2UuaW5zdGFuY2UgPT09IGluc3RhbmNlRnVuYylbMF07XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSlcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnByb3BlcnR5QW5ub3RhdGlvbnMucHVzaChkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IHRoaXMuYWRkSW5zdGFuY2VDb250YWluZXIoaW5zdGFuY2VGdW5jKTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnByb3BlcnR5QW5ub3RhdGlvbnMucHVzaChkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGVjb3JhdG9yQ29uZmlndXJhdGlvbi5jb25maWcgJiYgZGVjb3JhdG9yQ29uZmlndXJhdGlvbi5jb25maWcuY29uZGl0aW9uYWxFeHByZXNzaW9ucykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbHVtbnMgPSBMaW5xLmV4cHJlc3Npb25Db2x1bW5zKGRlY29yYXRvckNvbmZpZ3VyYXRpb24uY29uZmlnLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGFuZ2VWYWxpZGF0aW9uKGluc3RhbmNlLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uLnByb3BlcnR5TmFtZSwgY29sdW1ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIGRlY29yYXRvckNvbmZpZ3VyYXRpb24uY29uZmlnICYmIChkZWNvcmF0b3JDb25maWd1cmF0aW9uLmFubm90YXRpb25UeXBlID09IEFubm90YXRpb25UeXBlcy5jb21wYXJlIHx8IGRlY29yYXRvckNvbmZpZ3VyYXRpb24uYW5ub3RhdGlvblR5cGUgPT0gQW5ub3RhdGlvblR5cGVzLmdyZWF0ZXJUaGFuIHx8IGRlY29yYXRvckNvbmZpZ3VyYXRpb24uYW5ub3RhdGlvblR5cGUgPT0gQW5ub3RhdGlvblR5cGVzLmdyZWF0ZXJUaGFuRXF1YWxUbyB8fCBkZWNvcmF0b3JDb25maWd1cmF0aW9uLmFubm90YXRpb25UeXBlID09IEFubm90YXRpb25UeXBlcy5sZXNzVGhhbiB8fCBkZWNvcmF0b3JDb25maWd1cmF0aW9uLmFubm90YXRpb25UeXBlID09IEFubm90YXRpb25UeXBlcy5sZXNzVGhhbkVxdWFsVG8pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbmRpdGlvbmFsVmFsdWVQcm9wKGluc3RhbmNlLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uLmNvbmZpZy5maWVsZE5hbWUsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24ucHJvcGVydHlOYW1lKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNldENvbmRpdGlvbmFsVmFsdWVQcm9wKGluc3RhbmNlOiBJbnN0YW5jZUNvbnRhaW5lciwgcHJvcE5hbWU6IHN0cmluZywgcmVmUHJvcE5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzKVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5jb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wc1twcm9wTmFtZV0pXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wc1twcm9wTmFtZV0gPSBbXTtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzW3Byb3BOYW1lXS5pbmRleE9mKHJlZlByb3BOYW1lKSA9PSAtMSlcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzW3Byb3BOYW1lXS5wdXNoKHJlZlByb3BOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkQ2hhbmdlVmFsaWRhdGlvbihpbnN0YW5jZTogSW5zdGFuY2VDb250YWluZXIsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBjb2x1bW5zOiBhbnlbXSkgOnZvaWQge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHMpXHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zLmZvckVhY2godCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQucHJvcE5hbWUgJiYgIXQub2JqZWN0UHJvcE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5jb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wc1t0LnByb3BOYW1lXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzW3QucHJvcE5hbWVdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5jb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wc1t0LnByb3BOYW1lXS5pbmRleE9mKHByb3BlcnR5TmFtZSkgPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wc1t0LnByb3BOYW1lXS5wdXNoKHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQucHJvcE5hbWUgJiYgdC5vYmplY3RQcm9wTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5jb25kaXRpb25hbE9iamVjdFByb3BzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbmRpdGlvbmFsT2JqZWN0UHJvcHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQucmVmZXJlbmNlUHJvcE5hbWUgPSBwcm9wZXJ0eU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb25kaXRpb25hbE9iamVjdFByb3BzLnB1c2godCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSkoKTtcclxuIiwiaW1wb3J0IHsgUHJvcFZhbGlkYXRpb25Db25maWcgfSBmcm9tIFwiLi9wcm9wLXZhbGlkYXRpb24tY29uZmlnXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9ybUJ1aWxkZXJDb25maWd1cmF0aW9ue1xyXG4gICAgY29uc3RydWN0b3IoZm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uPzogRm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uKSB7XHJcbiAgICAgICAgaWYgKGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbilcclxuICAgICAgICAgICAgZm9yICh2YXIgY29sdW1uIGluIGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbilcclxuICAgICAgICAgICAgICAgIHRoaXNbY29sdW1uXSA9IGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbltjb2x1bW5dO1xyXG4gICAgfVxyXG5cclxuICAgIGluY2x1ZGVBcnJheVByb3BzOiBzdHJpbmdbXSB8IHN0cmluZ1tdW107XHJcblxyXG4gICAgaW5jbHVkZU9iamVjdGRQcm9wczogc3RyaW5nW10gfCBzdHJpbmdbXVtdO1xyXG5cclxuICAgIGV4Y2x1ZGVQcm9wczogc3RyaW5nW107XHJcblxyXG4gICAgdmFsaWRhdGlvbnM6IHsgW2tleTogc3RyaW5nXTogUHJvcFZhbGlkYXRpb25Db25maWcgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBWYWxpZGF0b3JGbixcclxuICAgIEFic3RyYWN0Q29udHJvbCxcclxuXHJcbiAgICBGb3JtQXJyYXlcclxufSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuXHJcbmltcG9ydCB7IFJlZ2V4VmFsaWRhdG9yIH0gZnJvbSBcIi4uL3V0aWwvcmVnZXgtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFJlZ0V4UnVsZSB9IGZyb20gXCIuLi91dGlsL3JlZ2V4LXJ1bGVzXCI7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiXHJcbmltcG9ydCB7IE9iamVjdE1ha2VyIH0gZnJvbSBcIi4uL3V0aWwvb2JqZWN0LW1ha2VyXCI7XHJcbmltcG9ydCB7IEFscGhhQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvYWxwaGEtY29uZmlnXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tIFwiLi4vdXRpbC9saW5xXCI7XHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gXCIuLi91dGlsL2FwcC11dGlsXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25kaXRpb25hbENoYW5nZVZhbGlkYXRvcihjb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wczogc3RyaW5nW10pOiBWYWxpZGF0b3JGbiB7XHJcbiAgICB2YXIgdGltZU91dHM6IG51bWJlcltdID0gW107XHJcbiAgICB2YXIgc2V0VGltZU91dCA9IChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpID0+IHtcclxuICAgICAgICB2YXIgdGltZU91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHQgPT4ge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVPdXQpO1xyXG4gICAgICAgICAgICBjb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoKTtcclxuICAgICAgICB9LCAxMDApXHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudEZvcm1Hcm91cCA9IGNvbnRyb2wucGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnRGb3JtR3JvdXApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aW1lT3V0cyA9IFtdO1xyXG4gICAgICAgICAgICBjb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wcy5mb3JFYWNoKHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHQuaW5kZXhPZihcIltdXCIpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwbGl0VGV4dCA9IHQuc3BsaXQoXCJbXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybUFycmF5ID0gPEZvcm1BcnJheT5wYXJlbnRGb3JtR3JvdXAuZ2V0KFtzcGxpdFRleHRbMF1dKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtQXJyYXkuY29udHJvbHMuZm9yRWFjaChmb3JtR3JvdXAgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJzdHJhY3RDb250cm9sID0gZm9ybUdyb3VwLmdldChzcGxpdFRleHRbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJzdHJhY3RDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lT3V0KGFic3RyYWN0Q29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbCA9IHBhcmVudEZvcm1Hcm91cC5nZXQoW3RdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRyb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSBwYXJlbnRGb3JtR3JvdXAucm9vdC5nZXQoW3RdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lT3V0KGNvbnRyb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT2JqZWN0TWFrZXIubnVsbCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiXHJcbmltcG9ydCB7IEZvcm1CdWlsZGVyLCBGb3JtR3JvdXAsIFZhbGlkYXRvcnMgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIlxyXG5pbXBvcnQgeyBUeXBlLCBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWxcIlxyXG5pbXBvcnQge1xyXG4gICAgYWxwaGFOdW1lcmljVmFsaWRhdG9yLCBhbHBoYVZhbGlkYXRvciwgY29tcGFyZVZhbGlkYXRvciwgZW1haWxWYWxpZGF0b3IsIGhleENvbG9yVmFsaWRhdG9yLCBsb3dlcmNhc2VWYWxpZGF0b3IsXHJcbiAgICBtYXhEYXRlVmFsaWRhdG9yLCBtYXhOdW1iZXJWYWxpZGF0b3IsIG1pbkRhdGVWYWxpZGF0b3IsIG1pbk51bWJlclZhbGlkYXRvciwgY29udGFpbnNWYWxpZGF0b3IsIHVwcGVyY2FzZVZhbGlkYXRvcixcclxuICAgIHJhbmdlVmFsaWRhdG9yLCBwYXR0ZXJuVmFsaWRhdG9yLCByZXF1aXJlZFZhbGlkYXRvciwgY3JlZGl0Q2FyZFZhbGlkYXRvciwgZGlnaXRWYWxpZGF0b3IsXHJcbiAgICBtYXhMZW5ndGhWYWxpZGF0b3IsIG1pbkxlbmd0aFZhbGlkYXRvciwgcGFzc3dvcmRWYWxpZGF0b3IsIHRpbWVWYWxpZGF0b3IsIHVybFZhbGlkYXRvciwganNvblZhbGlkYXRvcixcclxuICAgIGdyZWF0ZXJUaGFuRXF1YWxUb1ZhbGlkYXRvciwgZ3JlYXRlclRoYW5WYWxpZGF0b3IsIGxlc3NUaGFuRXF1YWxUb1ZhbGlkYXRvciwgbGVzc1RoYW5WYWxpZGF0b3JcclxufSBmcm9tICcuLi9yZWFjdGl2ZS1mb3JtLXZhbGlkYXRvcnMnO1xyXG5cclxuaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24sIEluc3RhbmNlQ29udGFpbmVyLCBQcm9wZXJ0eUluZm8gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBGb3JtQnVpbGRlckNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vbW9kZWxzXCJcclxuaW1wb3J0IHsgQVJSQVlfUFJPUEVSVFksIE9CSkVDVF9QUk9QRVJUWSwgUFJPUEVSVFkgfSBmcm9tIFwiLi4vY29uc3RcIlxyXG5pbXBvcnQgeyBQcm9wVmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvcHJvcC12YWxpZGF0aW9uLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IGNvbmRpdGlvbmFsQ2hhbmdlVmFsaWRhdG9yIH0gZnJvbSBcIi4uL3JlYWN0aXZlLWZvcm0tdmFsaWRhdG9ycy9jb25kaXRpb25hbC1jaGFuZ2UudmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IExpbnEgfSBmcm9tICcuLi91dGlsL2xpbnEnXHJcblxyXG5cclxuY29uc3QgQVBQX1ZBTElEQVRPUlM6IHsgW2tleTogc3RyaW5nXTogRnVuY3Rpb24gfSA9IHtcclxuICAgIFwiYWxwaGFOdW1lcmljXCI6IGFscGhhTnVtZXJpY1ZhbGlkYXRvcixcclxuICAgIFwiYWxwaGFcIjogYWxwaGFWYWxpZGF0b3IsXHJcbiAgICBcImNvbXBhcmVcIjogY29tcGFyZVZhbGlkYXRvcixcclxuICAgIFwiZW1haWxcIjogZW1haWxWYWxpZGF0b3IsXHJcbiAgICBcImhleENvbG9yXCI6IGhleENvbG9yVmFsaWRhdG9yLFxyXG4gICAgXCJsb3dlckNhc2VcIjogbG93ZXJjYXNlVmFsaWRhdG9yLFxyXG4gICAgXCJtYXhEYXRlXCI6IG1heERhdGVWYWxpZGF0b3IsXHJcbiAgICBcIm1heE51bWJlclwiOiBtYXhOdW1iZXJWYWxpZGF0b3IsXHJcbiAgICBcIm1pbkRhdGVcIjogbWluRGF0ZVZhbGlkYXRvcixcclxuICAgIFwibWluTnVtYmVyXCI6IG1pbk51bWJlclZhbGlkYXRvcixcclxuICAgIFwiY29udGFpbnNcIjogY29udGFpbnNWYWxpZGF0b3IsXHJcbiAgICBcInVwcGVyQ2FzZVwiOiB1cHBlcmNhc2VWYWxpZGF0b3IsXHJcbiAgICBcIm1heExlbmd0aFwiOiBtYXhMZW5ndGhWYWxpZGF0b3IsXHJcbiAgICBcIm1pbkxlbmd0aFwiOiBtaW5MZW5ndGhWYWxpZGF0b3IsXHJcbiAgICBcInBhc3N3b3JkXCI6IHBhc3N3b3JkVmFsaWRhdG9yLFxyXG4gICAgXCJyYW5nZVwiOiByYW5nZVZhbGlkYXRvcixcclxuICAgIFwicmVxdWlyZWRcIjogcmVxdWlyZWRWYWxpZGF0b3IsXHJcbiAgICBcImNyZWRpdENhcmRcIjogY3JlZGl0Q2FyZFZhbGlkYXRvcixcclxuICAgIFwiZGlnaXRcIjogZGlnaXRWYWxpZGF0b3IsXHJcbiAgICBcInBhdHRlcm5cIjogcGF0dGVyblZhbGlkYXRvcixcclxuICAgIFwidGltZVwiOiB0aW1lVmFsaWRhdG9yLFxyXG4gICAgXCJ1cmxcIjogdXJsVmFsaWRhdG9yLFxyXG4gICAgXCJqc29uXCI6IGpzb25WYWxpZGF0b3IsXHJcbiAgICBcImdyZWF0ZXJUaGFuXCI6IGdyZWF0ZXJUaGFuVmFsaWRhdG9yLFxyXG4gICAgXCJncmVhdGVyVGhhbkVxdWFsVG9cIjogZ3JlYXRlclRoYW5FcXVhbFRvVmFsaWRhdG9yLFxyXG4gICAgXCJsZXNzVGhhblwiOiBsZXNzVGhhblZhbGlkYXRvcixcclxuICAgIFwibGVzc1RoYW5FcXVhbFRvXCI6IGxlc3NUaGFuRXF1YWxUb1ZhbGlkYXRvclxyXG59XHJcblxyXG5cclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIFJ4Rm9ybUJ1aWxkZXIge1xyXG4gICAgcHJpdmF0ZSBuZXN0ZWRQcm9wOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGNvbmRpdGlvbmFsT2JqZWN0UHJvcHM6IGFueVtdID0gW107XHJcbiAgICBwcml2YXRlIGNvbmRpdGlvbmFsVmFsaWRhdGlvbkluc3RhbmNlOiBhbnkgPSB7fTtcclxuICAgIHByaXZhdGUgYnVpbGRlckNvbmZpZ3VyYXRpb25Db25kaXRpb25hbE9iamVjdFByb3BzOiBhbnlbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc05lc3RlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIpIHsgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SW5zdGFuY2VDb250YWluZXIoaW5zdGFuY2VGdW5jOiBhbnkpOiBJbnN0YW5jZUNvbnRhaW5lciB7XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRDb250YWluZXIuZ2V0KGluc3RhbmNlRnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRWYWx1ZShmb3JtR3JvdXA6IEZvcm1Hcm91cCwgb2JqZWN0OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBjb2wgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBjb250cm9sID0gZm9ybUdyb3VwLmdldChbY29sXSk7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuc2V0VmFsdWUob2JqZWN0W2NvbF0pO1xyXG4gICAgICAgICAgICBjb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBleHRyYWN0RXhwcmVzc2lvbnMoZm9tckJ1aWxkZXJDb25maWd1cmF0aW9uOiBGb3JtQnVpbGRlckNvbmZpZ3VyYXRpb24pOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZ1tdIH0ge1xyXG4gICAgICAgIGlmIChmb21yQnVpbGRlckNvbmZpZ3VyYXRpb24gJiYgZm9tckJ1aWxkZXJDb25maWd1cmF0aW9uLnZhbGlkYXRpb25zKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGZvbXJCdWlsZGVyQ29uZmlndXJhdGlvbi52YWxpZGF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZGVjb3JhdG9yIGluIGZvbXJCdWlsZGVyQ29uZmlndXJhdGlvbi52YWxpZGF0aW9uc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9tckJ1aWxkZXJDb25maWd1cmF0aW9uLnZhbGlkYXRpb25zW3Byb3BlcnR5XVtkZWNvcmF0b3JdLmNvbmRpdGlvbmFsRXhwcmVzc2lvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbHVtbnMgPSBMaW5xLmV4cHJlc3Npb25Db2x1bW5zKGZvbXJCdWlsZGVyQ29uZmlndXJhdGlvbi52YWxpZGF0aW9uc1twcm9wZXJ0eV1bZGVjb3JhdG9yXS5jb25kaXRpb25hbEV4cHJlc3Npb25zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRDaGFuZ2VWYWxpZGF0aW9uKHRoaXMuY29uZGl0aW9uYWxWYWxpZGF0aW9uSW5zdGFuY2UsIHByb3BlcnR5LCBjb2x1bW5zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRGb3JtQ29udHJvbChwcm9wZXJ0eTogUHJvcGVydHlJbmZvLCBwcm9wZXJ0eVZhbGlkYXRvcnM6IERlY29yYXRvckNvbmZpZ3VyYXRpb25bXSwgcHJvcFZhbGlkYXRpb25Db25maWc6IFByb3BWYWxpZGF0aW9uQ29uZmlnLCBpbnN0YW5jZTogSW5zdGFuY2VDb250YWluZXIpIHtcclxuICAgICAgICBsZXQgdmFsaWRhdG9ycyA9IFtdO1xyXG4gICAgICAgIGxldCBjb2x1bW5zID0gW107XHJcbiAgICAgICAgaWYgKChpbnN0YW5jZS5jb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wcyAmJiBpbnN0YW5jZS5jb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wc1twcm9wZXJ0eS5uYW1lXSkgfHwgKHRoaXMuY29uZGl0aW9uYWxWYWxpZGF0aW9uSW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHMgJiYgdGhpcy5jb25kaXRpb25hbFZhbGlkYXRpb25JbnN0YW5jZS5jb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wc1twcm9wZXJ0eS5uYW1lXSkpIHtcclxuICAgICAgICAgICAgbGV0IHByb3BzID0gW107XHJcbiAgICAgICAgICAgIGlmICgoaW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHMgJiYgaW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHNbcHJvcGVydHkubmFtZV0pKVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHNbcHJvcGVydHkubmFtZV0uZm9yRWFjaCh0ID0+IHByb3BzLnB1c2godCkpXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbmFsVmFsaWRhdGlvbkluc3RhbmNlLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzICYmIHRoaXMuY29uZGl0aW9uYWxWYWxpZGF0aW9uSW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHNbcHJvcGVydHkubmFtZV0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmRpdGlvbmFsVmFsaWRhdGlvbkluc3RhbmNlLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzW3Byb3BlcnR5Lm5hbWVdLmZvckVhY2godCA9PiBwcm9wcy5wdXNoKHQpKTtcclxuICAgICAgICAgICAgdmFsaWRhdG9ycy5wdXNoKGNvbmRpdGlvbmFsQ2hhbmdlVmFsaWRhdG9yKHByb3BzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbmFsT2JqZWN0UHJvcHMubGVuZ3RoID4gMCB8fCB0aGlzLmJ1aWxkZXJDb25maWd1cmF0aW9uQ29uZGl0aW9uYWxPYmplY3RQcm9wcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBwcm9wQ29uZGl0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25kaXRpb25hbE9iamVjdFByb3BzKVxyXG4gICAgICAgICAgICAgICAgcHJvcENvbmRpdGlvbnMgPSB0aGlzLmNvbmRpdGlvbmFsT2JqZWN0UHJvcHMuZmlsdGVyKHQgPT4gdC5wcm9wTmFtZSA9PSBwcm9wZXJ0eS5uYW1lKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYnVpbGRlckNvbmZpZ3VyYXRpb25Db25kaXRpb25hbE9iamVjdFByb3BzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZGVyQ29uZmlndXJhdGlvbkNvbmRpdGlvbmFsT2JqZWN0UHJvcHMuZmlsdGVyKHQgPT4gdC5wcm9wTmFtZSA9PSBwcm9wZXJ0eS5uYW1lKS5mb3JFYWNoKHQgPT4gcHJvcENvbmRpdGlvbnMucHVzaCh0KSk7XHJcbiAgICAgICAgICAgIHByb3BDb25kaXRpb25zLmZvckVhY2godCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodC5yZWZlcmVuY2VQcm9wTmFtZSAmJiBjb2x1bW5zLmluZGV4T2YodC5yZWZlcmVuY2VQcm9wTmFtZSkgPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5wdXNoKHQucmVmZXJlbmNlUHJvcE5hbWUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9ycy5wdXNoKGNvbmRpdGlvbmFsQ2hhbmdlVmFsaWRhdG9yKGNvbHVtbnMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHlWYWxpZGF0b3Igb2YgcHJvcGVydHlWYWxpZGF0b3JzKSB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcnMucHVzaChBUFBfVkFMSURBVE9SU1twcm9wZXJ0eVZhbGlkYXRvci5hbm5vdGF0aW9uVHlwZV0ocHJvcGVydHlWYWxpZGF0b3IuY29uZmlnLCApKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvcFZhbGlkYXRpb25Db25maWcpXHJcbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbFZhbGlkYXRpb24odmFsaWRhdG9ycywgcHJvcFZhbGlkYXRpb25Db25maWcpO1xyXG4gICAgICAgIHJldHVybiB2YWxpZGF0b3JzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkaXRpb25hbFZhbGlkYXRpb24odmFsaWRhdGlvbnM6IGFueVtdLCBwcm9wVmFsaWRhdGlvbkNvbmZpZzogUHJvcFZhbGlkYXRpb25Db25maWcpIHtcclxuICAgICAgICBmb3IgKHZhciBjb2wgaW4gQW5ub3RhdGlvblR5cGVzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wVmFsaWRhdGlvbkNvbmZpZ1tBbm5vdGF0aW9uVHlwZXNbY29sXV0gJiYgY29sICE9IFwiY3VzdG9tXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25zLnB1c2goQVBQX1ZBTElEQVRPUlNbQW5ub3RhdGlvblR5cGVzW2NvbF1dKHByb3BWYWxpZGF0aW9uQ29uZmlnW0Fubm90YXRpb25UeXBlc1tjb2xdXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbCA9PSBBbm5vdGF0aW9uVHlwZXMuY3VzdG9tICYmIHByb3BWYWxpZGF0aW9uQ29uZmlnW0Fubm90YXRpb25UeXBlc1tjb2xdXSlcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25zLnB1c2gocHJvcFZhbGlkYXRpb25Db25maWdbY29sXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tPYmplY3RQcm9wQWRkaXRpb25hbFZhbGlkYXRpb248VD4oaW5zdGFuY2VDb250YWluZXI6IEluc3RhbmNlQ29udGFpbmVyLCBvYmplY3Q6IFQpIHtcclxuICAgICAgICB2YXIgcHJvcHMgPSBpbnN0YW5jZUNvbnRhaW5lci5wcm9wZXJ0aWVzLmZpbHRlcih0ID0+IHQucHJvcGVydHlUeXBlID09IE9CSkVDVF9QUk9QRVJUWSB8fCB0LnByb3BlcnR5VHlwZSA9PSBBUlJBWV9QUk9QRVJUWSlcclxuICAgICAgICBwcm9wcy5mb3JFYWNoKHQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlQ29udGFpbmVyKHQuZW50aXR5KTtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gaW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IGluc3RhbmNlLnByb3BlcnRpZXMuZmlsdGVyKHQgPT4gdC5uYW1lID09IGtleSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wID0gaW5zdGFuY2VDb250YWluZXIucHJvcGVydGllcy5maWx0ZXIodCA9PiB0Lm5hbWUgPT0ga2V5KVswXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlQ29udGFpbmVyLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZUNvbnRhaW5lci5jb25kaXRpb25hbFZhbGlkYXRpb25Qcm9wc1trZXldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlQ29udGFpbmVyLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzW2tleV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHNba2V5XS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQucHJvcGVydHlUeXBlICE9IEFSUkFZX1BST1BFUlRZKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlQ29udGFpbmVyLmNvbmRpdGlvbmFsVmFsaWRhdGlvblByb3BzW2tleV0ucHVzaChbdC5uYW1lLCB4XS5qb2luKCcuJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VDb250YWluZXIuY29uZGl0aW9uYWxWYWxpZGF0aW9uUHJvcHNba2V5XS5wdXNoKFt0Lm5hbWUsIHhdLmpvaW4oJ1tdJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRPYmplY3QobW9kZWw6IGFueSB8IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGVudGl0eU9iamVjdD86IHsgW2tleTogc3RyaW5nXTogYW55IH0gfCBGb3JtQnVpbGRlckNvbmZpZ3VyYXRpb24sIGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbj86IEZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbik6IHtba2V5OnN0cmluZ106YW55fSB7XHJcbiAgICAgICAgbGV0IGpzb246IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBtb2RlbCA9PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgIGpzb24ubW9kZWwgPSBtb2RlbDtcclxuXHJcbiAgICAgICAgaWYgKGVudGl0eU9iamVjdCAmJiAhKGVudGl0eU9iamVjdCBpbnN0YW5jZW9mIEZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbikpXHJcbiAgICAgICAgICAgIGpzb24uZW50aXR5T2JqZWN0ID0gZW50aXR5T2JqZWN0O1xyXG5cclxuICAgICAgICBpZiAoZW50aXR5T2JqZWN0IGluc3RhbmNlb2YgRm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uICYmICFmb3JtQnVpbGRlckNvbmZpZ3VyYXRpb24pXHJcbiAgICAgICAgICAgIGpzb24uZm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uID0gZW50aXR5T2JqZWN0O1xyXG4gICAgICAgIGVsc2UgaWYgKCEoZW50aXR5T2JqZWN0IGluc3RhbmNlb2YgRm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uKSAmJiBmb3JtQnVpbGRlckNvbmZpZ3VyYXRpb24pXHJcbiAgICAgICAgICAgIGpzb24uZm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uID0gZm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghZW50aXR5T2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGpzb24uZW50aXR5T2JqZWN0ID0gbW9kZWw7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kZWwgPT0gXCJvYmplY3RcIilcclxuICAgICAgICAgICAgICAgIGpzb24ubW9kZWwgPSBtb2RlbC5jb25zdHJ1Y3RvcjtcclxuICAgICAgICB9IGVsc2UgaWYgKG1vZGVsICYmIChlbnRpdHlPYmplY3QgaW5zdGFuY2VvZiBGb3JtQnVpbGRlckNvbmZpZ3VyYXRpb24pICYmICh0eXBlb2YgbW9kZWwgPT0gXCJvYmplY3RcIikpIHtcclxuICAgICAgICAgICAganNvbltcImVudGl0eU9iamVjdFwiXSA9IG1vZGVsO1xyXG4gICAgICAgICAgICBqc29uW1wibW9kZWxcIl0gPSBtb2RlbC5jb25zdHJ1Y3RvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGpzb247XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybUdyb3VwPFQ+KG1vZGVsOiBUeXBlPFQ+IHwgeyBba2V5OiBzdHJpbmddOiBhbnkgfSwgZW50aXR5T2JqZWN0PzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSB8IEZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbiwgZm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uPzogRm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uKTogRm9ybUdyb3VwIHtcclxuICAgICAgICBsZXQganNvbiA9IHRoaXMuZ2V0T2JqZWN0KG1vZGVsLCBlbnRpdHlPYmplY3QsIGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbik7XHJcbiAgICAgICAgbW9kZWwgPSBqc29uLm1vZGVsO1xyXG4gICAgICAgIGVudGl0eU9iamVjdCA9IGpzb24uZW50aXR5T2JqZWN0O1xyXG4gICAgICAgIGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbiA9IGpzb24uZm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uO1xyXG4gICAgICAgIGlmIChmb3JtQnVpbGRlckNvbmZpZ3VyYXRpb24pXHJcbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdEV4cHJlc3Npb25zKGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbik7XHJcbiAgICAgICAgbGV0IGluc3RhbmNlQ29udGFpbmVyOiBJbnN0YW5jZUNvbnRhaW5lciA9IHRoaXMuZ2V0SW5zdGFuY2VDb250YWluZXIobW9kZWwpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tPYmplY3RQcm9wQWRkaXRpb25hbFZhbGlkYXRpb24oaW5zdGFuY2VDb250YWluZXIsIGVudGl0eU9iamVjdCk7XHJcbiAgICAgICAgbGV0IGZvcm1Hcm91cE9iamVjdCA9IHt9O1xyXG4gICAgICAgIGxldCBmb3JtQ2hpbGRHcm91cCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgZm9ybUFycmF5R3JvdXAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIGFkZGl0aW9uYWxWYWxpZGF0aW9uczogeyBba2V5OiBzdHJpbmddOiBQcm9wVmFsaWRhdGlvbkNvbmZpZyB9ID0ge307XHJcbiAgICAgICAgaW5zdGFuY2VDb250YWluZXIucHJvcGVydGllcy5mb3JFYWNoKHByb3BlcnR5ID0+IHtcclxuICAgICAgICAgICAgbGV0IGlzSW5jbHVkZVByb3AgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoZm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uICYmIGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbi5leGNsdWRlUHJvcHMgJiYgZm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uLmV4Y2x1ZGVQcm9wcy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgaXNJbmNsdWRlUHJvcCA9IGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbi5leGNsdWRlUHJvcHMuaW5kZXhPZihwcm9wZXJ0eS5uYW1lKSA9PSAtMVxyXG4gICAgICAgICAgICBpZiAoZm9ybUJ1aWxkZXJDb25maWd1cmF0aW9uICYmIGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbi52YWxpZGF0aW9ucylcclxuICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxWYWxpZGF0aW9ucyA9IGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbi52YWxpZGF0aW9ucztcclxuICAgICAgICAgICAgaWYgKGlzSW5jbHVkZVByb3ApIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcGVydHkucHJvcGVydHlUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBQUk9QRVJUWTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5VmFsaWRhdG9ycyA9IGluc3RhbmNlQ29udGFpbmVyLnByb3BlcnR5QW5ub3RhdGlvbnMuZmlsdGVyKHQgPT4gdC5wcm9wZXJ0eU5hbWUgPT0gcHJvcGVydHkubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Hcm91cE9iamVjdFtwcm9wZXJ0eS5uYW1lXSA9IFtlbnRpdHlPYmplY3RbcHJvcGVydHkubmFtZV0sIHRoaXMuYWRkRm9ybUNvbnRyb2wocHJvcGVydHksIHByb3BlcnR5VmFsaWRhdG9ycywgYWRkaXRpb25hbFZhbGlkYXRpb25zW3Byb3BlcnR5Lm5hbWVdLCBpbnN0YW5jZUNvbnRhaW5lcildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTmVzdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgT0JKRUNUX1BST1BFUlRZOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5T2JqZWN0W3Byb3BlcnR5Lm5hbWVdICYmIGVudGl0eU9iamVjdFtwcm9wZXJ0eS5uYW1lXSBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc05lc3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2VDb250YWluZXIgJiYgaW5zdGFuY2VDb250YWluZXIuY29uZGl0aW9uYWxPYmplY3RQcm9wcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmRpdGlvbmFsT2JqZWN0UHJvcHMgPSBpbnN0YW5jZUNvbnRhaW5lci5jb25kaXRpb25hbE9iamVjdFByb3BzLmZpbHRlcih0ID0+IHQub2JqZWN0UHJvcE5hbWUgPT0gcHJvcGVydHkubmFtZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbmFsVmFsaWRhdGlvbkluc3RhbmNlICYmIHRoaXMuY29uZGl0aW9uYWxWYWxpZGF0aW9uSW5zdGFuY2UuY29uZGl0aW9uYWxPYmplY3RQcm9wcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkZXJDb25maWd1cmF0aW9uQ29uZGl0aW9uYWxPYmplY3RQcm9wcyA9IHRoaXMuY29uZGl0aW9uYWxWYWxpZGF0aW9uSW5zdGFuY2UuY29uZGl0aW9uYWxPYmplY3RQcm9wcy5maWx0ZXIodCA9PiB0Lm9iamVjdFByb3BOYW1lID09IHByb3BlcnR5Lm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUdyb3VwT2JqZWN0W3Byb3BlcnR5Lm5hbWVdID0gdGhpcy5mb3JtR3JvdXAocHJvcGVydHkuZW50aXR5LCBlbnRpdHlPYmplY3RbcHJvcGVydHkubmFtZV0sIGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmRpdGlvbmFsT2JqZWN0UHJvcHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRlckNvbmZpZ3VyYXRpb25Db25kaXRpb25hbE9iamVjdFByb3BzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTmVzdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBUlJBWV9QUk9QRVJUWTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eU9iamVjdFtwcm9wZXJ0eS5uYW1lXSAmJiBlbnRpdHlPYmplY3RbcHJvcGVydHkubmFtZV0gaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc05lc3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybUFycmF5R3JvdXAgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzdWJPYmplY3Qgb2YgZW50aXR5T2JqZWN0W3Byb3BlcnR5Lm5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlQ29udGFpbmVyICYmIGluc3RhbmNlQ29udGFpbmVyLmNvbmRpdGlvbmFsT2JqZWN0UHJvcHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uYWxPYmplY3RQcm9wcyA9IGluc3RhbmNlQ29udGFpbmVyLmNvbmRpdGlvbmFsT2JqZWN0UHJvcHMuZmlsdGVyKHQgPT4gdC5vYmplY3RQcm9wTmFtZSA9PSBwcm9wZXJ0eS5uYW1lICYmIHQuYXJyYXlJbmRleCA9PSBpbmRleClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25kaXRpb25hbFZhbGlkYXRpb25JbnN0YW5jZSAmJiB0aGlzLmNvbmRpdGlvbmFsVmFsaWRhdGlvbkluc3RhbmNlLmNvbmRpdGlvbmFsT2JqZWN0UHJvcHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRlckNvbmZpZ3VyYXRpb25Db25kaXRpb25hbE9iamVjdFByb3BzID0gdGhpcy5jb25kaXRpb25hbFZhbGlkYXRpb25JbnN0YW5jZS5jb25kaXRpb25hbE9iamVjdFByb3BzLmZpbHRlcih0ID0+IHQub2JqZWN0UHJvcE5hbWUgPT0gcHJvcGVydHkubmFtZSAmJiB0LmFycmF5SW5kZXggPT0gaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1BcnJheUdyb3VwLnB1c2godGhpcy5mb3JtR3JvdXAocHJvcGVydHkuZW50aXR5LCBzdWJPYmplY3QsIGZvcm1CdWlsZGVyQ29uZmlndXJhdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25kaXRpb25hbE9iamVjdFByb3BzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWlsZGVyQ29uZmlndXJhdGlvbkNvbmRpdGlvbmFsT2JqZWN0UHJvcHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Hcm91cE9iamVjdFtwcm9wZXJ0eS5uYW1lXSA9IHRoaXMuZm9ybUJ1aWxkZXIuYXJyYXkoZm9ybUFycmF5R3JvdXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc05lc3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzTmVzdGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uYWxWYWxpZGF0aW9uSW5zdGFuY2UgPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5idWlsZGVyQ29uZmlndXJhdGlvbkNvbmRpdGlvbmFsT2JqZWN0UHJvcHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoZm9ybUdyb3VwT2JqZWN0KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBOZ01vZHVsZSwgTW9kdWxlV2l0aFByb3ZpZGVycywgQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7IEZvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlIH0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XHJcbmltcG9ydCB7IFJ4Rm9ybUJ1aWxkZXIgfSBmcm9tIFwiLi9yeC1mb3JtLWJ1aWxkZXJcIjtcclxuXHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gICAgZGVjbGFyYXRpb25zOiBbXSxcclxuICAgIGV4cG9ydHM6IFtdLFxyXG4gICAgaW1wb3J0czogW0Zvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlXSxcclxuICAgIHByb3ZpZGVyczogW1J4Rm9ybUJ1aWxkZXJdLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgUnhSZWFjdGl2ZUZvcm1zTW9kdWxlIHtcclxuICAgIHN0YXRpYyBmb3JSb290KCk6IE1vZHVsZVdpdGhQcm92aWRlcnMgeyByZXR1cm4geyBuZ01vZHVsZTogUnhSZWFjdGl2ZUZvcm1zTW9kdWxlLCBwcm92aWRlcnM6IFtdIH07IH1cclxufVxyXG4iLCJpbXBvcnQgeyBkZWZhdWx0Q29udGFpbmVyIH0gZnJvbSAnLi4vY29yZS9kZWZhdWx0Q29udGFpbmVyJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpYyc7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBBbHBoYUNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2FscGhhLWNvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFscGhhKGNvbmZpZz86QWxwaGFDb25maWcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXHJcbiAgICAgICAgdGFyZ2V0OiBPYmplY3QsXHJcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZywgcGFyYW1ldGVySW5kZXg/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHZhciBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eUluZGV4OiBwYXJhbWV0ZXJJbmRleCxcclxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgYW5ub3RhdGlvblR5cGU6IEFubm90YXRpb25UeXBlcy5hbHBoYSxcclxuICAgICAgICAgICAgY29uZmlnOiBjb25maWdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IEFscGhhQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvYWxwaGEtY29uZmlnXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbHBoYU51bWVyaWMoY29uZmlnPzogQWxwaGFDb25maWcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXHJcbiAgICAgICAgdGFyZ2V0OiBPYmplY3QsXHJcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZywgcGFyYW1ldGVySW5kZXg/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHZhciBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eUluZGV4OiBwYXJhbWV0ZXJJbmRleCxcclxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgYW5ub3RhdGlvblR5cGU6IEFubm90YXRpb25UeXBlcy5hbHBoYU51bWVyaWMsXHJcbiAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1Byb3BlcnR5S2V5ID0gKHByb3BlcnR5S2V5ICE9IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRBbm5vdGF0aW9uKCFpc1Byb3BlcnR5S2V5ID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnN0cnVjdG9yLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBkZWZhdWx0Q29udGFpbmVyIH0gZnJvbSAnLi4vY29yZS9kZWZhdWx0Q29udGFpbmVyJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBDb21wYXJlQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvY29tcGFyZS1jb25maWdcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmUoY29uZmlnOkNvbXBhcmVDb25maWcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXHJcbiAgICAgICAgdGFyZ2V0OiBPYmplY3QsXHJcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZywgcGFyYW1ldGVySW5kZXg/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHZhciBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eUluZGV4OiBwYXJhbWV0ZXJJbmRleCxcclxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgYW5ub3RhdGlvblR5cGU6IEFubm90YXRpb25UeXBlcy5jb21wYXJlLFxyXG4gICAgICAgICAgICBjb25maWc6Y29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1Byb3BlcnR5S2V5ID0gKHByb3BlcnR5S2V5ICE9IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRBbm5vdGF0aW9uKCFpc1Byb3BlcnR5S2V5ID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnN0cnVjdG9yLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBkZWZhdWx0Q29udGFpbmVyIH0gZnJvbSAnLi4vY29yZS9kZWZhdWx0Q29udGFpbmVyJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBEZWZhdWx0Q29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvZGVmYXVsdC1jb25maWdcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5pbXBvcnQgeyBDb250YWluc0NvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2NvbnRhaW5zLWNvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKGNvbmZpZzpDb250YWluc0NvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLmNvbnRhaW5zLFxyXG4gICAgICAgICAgICBjb25maWc6IGNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNQcm9wZXJ0eUtleSA9IChwcm9wZXJ0eUtleSAhPSB1bmRlZmluZWQpO1xyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkQW5ub3RhdGlvbighaXNQcm9wZXJ0eUtleSA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvciwgZGVjb3JhdG9yQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgQ3JlZGl0Q2FyZFR5cGUgfSBmcm9tIFwiLi4vZW51bXMvY3JlZGl0LWNhcmQtdHlwZVwiXHJcbmltcG9ydCB7IENyZWRpdENhcmRDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9jcmVkaXQtY2FyZC1jb25maWdcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlZGl0Q2FyZChjb25maWc6Q3JlZGl0Q2FyZENvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLmNyZWRpdENhcmQsXHJcbiAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1Byb3BlcnR5S2V5ID0gKHByb3BlcnR5S2V5ICE9IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRBbm5vdGF0aW9uKCFpc1Byb3BlcnR5S2V5ID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnN0cnVjdG9yLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBkZWZhdWx0Q29udGFpbmVyIH0gZnJvbSAnLi4vY29yZS9kZWZhdWx0Q29udGFpbmVyJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBEaWdpdENvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2RpZ2l0LWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlnaXQoY29uZmlnPzpEaWdpdENvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLmRpZ2l0LFxyXG4gICAgICAgICAgICBjb25maWc6IGNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNQcm9wZXJ0eUtleSA9IChwcm9wZXJ0eUtleSAhPSB1bmRlZmluZWQpO1xyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkQW5ub3RhdGlvbighaXNQcm9wZXJ0eUtleSA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvciwgZGVjb3JhdG9yQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgRW1haWxDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9lbWFpbC1jb25maWdcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVtYWlsKGNvbmZpZz86RW1haWxDb25maWcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXHJcbiAgICAgICAgdGFyZ2V0OiBPYmplY3QsXHJcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZywgcGFyYW1ldGVySW5kZXg/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHZhciBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eUluZGV4OiBwYXJhbWV0ZXJJbmRleCxcclxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgYW5ub3RhdGlvblR5cGU6IEFubm90YXRpb25UeXBlcy5lbWFpbCxcclxuICAgICAgICAgICAgY29uZmlnOmNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNQcm9wZXJ0eUtleSA9IChwcm9wZXJ0eUtleSAhPSB1bmRlZmluZWQpO1xyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkQW5ub3RhdGlvbighaXNQcm9wZXJ0eUtleSA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvciwgZGVjb3JhdG9yQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgRGVmYXVsdENvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2RlZmF1bHQtY29uZmlnXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9tZXNzYWdlLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGV4Q29sb3IoY29uZmlnPzpNZXNzYWdlQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxyXG4gICAgICAgIHRhcmdldDogT2JqZWN0LFxyXG4gICAgICAgIHByb3BlcnR5S2V5OiBzdHJpbmcsIHBhcmFtZXRlckluZGV4PzogbnVtYmVyXHJcbiAgICApIHtcclxuICAgICAgICB2YXIgZGVjb3JhdG9yQ29uZmlndXJhdGlvbjogRGVjb3JhdG9yQ29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgICAgICAgcHJvcGVydHlJbmRleDogcGFyYW1ldGVySW5kZXgsXHJcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlLZXksXHJcbiAgICAgICAgICAgIGFubm90YXRpb25UeXBlOiBBbm5vdGF0aW9uVHlwZXMuaGV4Q29sb3IsXHJcbiAgICAgICAgICAgIGNvbmZpZzpjb25maWdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IERlZmF1bHRDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9kZWZhdWx0LWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBNZXNzYWdlQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvbWVzc2FnZS1jb25maWdcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvd2VyQ2FzZShjb25maWc/Ok1lc3NhZ2VDb25maWcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXHJcbiAgICAgICAgdGFyZ2V0OiBPYmplY3QsXHJcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZywgcGFyYW1ldGVySW5kZXg/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHZhciBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eUluZGV4OiBwYXJhbWV0ZXJJbmRleCxcclxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgYW5ub3RhdGlvblR5cGU6IEFubm90YXRpb25UeXBlcy5sb3dlckNhc2UsXHJcbiAgICAgICAgICAgIGNvbmZpZzpjb25maWdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IERhdGVDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9kYXRlLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWF4RGF0ZShjb25maWc6RGF0ZUNvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLm1heERhdGUsXHJcbiAgICAgICAgICAgIGNvbmZpZzpjb25maWdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IE51bWJlckNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL251bWJlci1jb25maWdcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1heExlbmd0aChjb25maWc6TnVtYmVyQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxyXG4gICAgICAgIHRhcmdldDogT2JqZWN0LFxyXG4gICAgICAgIHByb3BlcnR5S2V5OiBzdHJpbmcsIHBhcmFtZXRlckluZGV4PzogbnVtYmVyXHJcbiAgICApIHtcclxuICAgICAgICB2YXIgZGVjb3JhdG9yQ29uZmlndXJhdGlvbjogRGVjb3JhdG9yQ29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgICAgICAgcHJvcGVydHlJbmRleDogcGFyYW1ldGVySW5kZXgsXHJcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlLZXksXHJcbiAgICAgICAgICAgIGFubm90YXRpb25UeXBlOiBBbm5vdGF0aW9uVHlwZXMubWF4TGVuZ3RoLFxyXG4gICAgICAgICAgICBjb25maWc6Y29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1Byb3BlcnR5S2V5ID0gKHByb3BlcnR5S2V5ICE9IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRBbm5vdGF0aW9uKCFpc1Byb3BlcnR5S2V5ID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnN0cnVjdG9yLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBkZWZhdWx0Q29udGFpbmVyIH0gZnJvbSAnLi4vY29yZS9kZWZhdWx0Q29udGFpbmVyJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBEYXRlQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvZGF0ZS1jb25maWdcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbkRhdGUoY29uZmlnOkRhdGVDb25maWcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXHJcbiAgICAgICAgdGFyZ2V0OiBPYmplY3QsXHJcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZywgcGFyYW1ldGVySW5kZXg/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHZhciBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eUluZGV4OiBwYXJhbWV0ZXJJbmRleCxcclxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgYW5ub3RhdGlvblR5cGU6IEFubm90YXRpb25UeXBlcy5taW5EYXRlLFxyXG4gICAgICAgICAgICBjb25maWc6Y29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1Byb3BlcnR5S2V5ID0gKHByb3BlcnR5S2V5ICE9IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRBbm5vdGF0aW9uKCFpc1Byb3BlcnR5S2V5ID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnN0cnVjdG9yLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBkZWZhdWx0Q29udGFpbmVyIH0gZnJvbSAnLi4vY29yZS9kZWZhdWx0Q29udGFpbmVyJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBOdW1iZXJDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9udW1iZXItY29uZmlnXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXhOdW1iZXIoY29uZmlnOk51bWJlckNvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLm1heE51bWJlcixcclxuICAgICAgICAgICAgY29uZmlnOmNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNQcm9wZXJ0eUtleSA9IChwcm9wZXJ0eUtleSAhPSB1bmRlZmluZWQpO1xyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkQW5ub3RhdGlvbighaXNQcm9wZXJ0eUtleSA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvciwgZGVjb3JhdG9yQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgTnVtYmVyQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvbnVtYmVyLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmV4cG9ydCBmdW5jdGlvbiBtaW5MZW5ndGgoY29uZmlnOk51bWJlckNvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLm1pbkxlbmd0aCxcclxuICAgICAgICAgICAgY29uZmlnOmNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNQcm9wZXJ0eUtleSA9IChwcm9wZXJ0eUtleSAhPSB1bmRlZmluZWQpO1xyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkQW5ub3RhdGlvbighaXNQcm9wZXJ0eUtleSA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvciwgZGVjb3JhdG9yQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgTnVtYmVyQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvbnVtYmVyLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmV4cG9ydCBmdW5jdGlvbiBtaW5OdW1iZXIoY29uZmlnOk51bWJlckNvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLm1pbk51bWJlcixcclxuICAgICAgICAgICAgY29uZmlnOmNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNQcm9wZXJ0eUtleSA9IChwcm9wZXJ0eUtleSAhPSB1bmRlZmluZWQpO1xyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkQW5ub3RhdGlvbighaXNQcm9wZXJ0eUtleSA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvciwgZGVjb3JhdG9yQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgUGFzc3dvcmRWYWxpZGF0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9wYXNzd29yZC12YWxpZGF0aW9uLm1vZGVsXCI7XHJcbmltcG9ydCB7IFBhc3N3b3JkQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcGFzc3dvcmQtY29uZmlnXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuZXhwb3J0IGZ1bmN0aW9uIHBhc3N3b3JkKGNvbmZpZzpQYXNzd29yZENvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLnBhc3N3b3JkLFxyXG4gICAgICAgICAgICBjb25maWc6Y29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1Byb3BlcnR5S2V5ID0gKHByb3BlcnR5S2V5ICE9IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRBbm5vdGF0aW9uKCFpc1Byb3BlcnR5S2V5ID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnN0cnVjdG9yLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBkZWZhdWx0Q29udGFpbmVyIH0gZnJvbSAnLi4vY29yZS9kZWZhdWx0Q29udGFpbmVyJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBQYXR0ZXJuQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcGF0dGVybi1jb25maWdcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5leHBvcnQgZnVuY3Rpb24gcGF0dGVybihjb25maWc6UGF0dGVybkNvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLnBhdHRlcm4sXHJcbiAgICAgICAgICAgIGNvbmZpZzpjb25maWdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBQcm9wZXJ0eUluZm8gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBBUlJBWV9QUk9QRVJUWSB9IGZyb20gXCIuLi9jb25zdFwiXHJcbmltcG9ydCB7IFR5cGUgfSBmcm9tIFwiLi4vdXRpbC9pbmRleFwiO1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcm9wQXJyYXk8VD4oZW50aXR5OlR5cGU8VD4pIHtcclxuICAgIHZhciBlbnRpdHlUeXBlID0gZW50aXR5O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIHByb3BlcnR5SW5mbzogUHJvcGVydHlJbmZvID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgcHJvcGVydHlUeXBlOiBBUlJBWV9QUk9QRVJUWSxcclxuICAgICAgICAgICAgZW50aXR5OiBlbnRpdHlcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRQcm9wZXJ0eSh0YXJnZXQuY29uc3RydWN0b3IsIHByb3BlcnR5SW5mbyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IFByb3BlcnR5SW5mbyB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IE9CSkVDVF9QUk9QRVJUWSB9IGZyb20gXCIuLi9jb25zdFwiXHJcbmltcG9ydCB7IFR5cGUgfSBmcm9tIFwiLi4vdXRpbC90eXBlXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvcE9iamVjdDxUPihlbnRpdHk6IFR5cGU8VD4pIHtcclxuICAgIHZhciBlbnRpdHlUeXBlID0gZW50aXR5O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIHByb3BlcnR5SW5mbzogUHJvcGVydHlJbmZvID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgcHJvcGVydHlUeXBlOiBPQkpFQ1RfUFJPUEVSVFksXHJcbiAgICAgICAgICAgIGVudGl0eTogZW50aXR5XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkUHJvcGVydHkodGFyZ2V0LmNvbnN0cnVjdG9yLCBwcm9wZXJ0eUluZm8pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBQcm9wZXJ0eUluZm8gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBQUk9QRVJUWSB9IGZyb20gXCIuLi9jb25zdFwiXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvcCgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXHJcbiAgICAgICAgdGFyZ2V0OiBPYmplY3QsXHJcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZywgcGFyYW1ldGVySW5kZXg/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHZhciBwcm9wZXJ0eUluZm86IFByb3BlcnR5SW5mbyA9IHtcclxuICAgICAgICAgICAgbmFtZSA6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eVR5cGU6IFBST1BFUlRZXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkUHJvcGVydHkodGFyZ2V0LmNvbnN0cnVjdG9yLCBwcm9wZXJ0eUluZm8pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IFJhbmdlQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcmFuZ2UtY29uZmlnXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5nZShjb25maWc6UmFuZ2VDb25maWcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXHJcbiAgICAgICAgdGFyZ2V0OiBPYmplY3QsXHJcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZywgcGFyYW1ldGVySW5kZXg/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHZhciBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eUluZGV4OiBwYXJhbWV0ZXJJbmRleCxcclxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgYW5ub3RhdGlvblR5cGU6IEFubm90YXRpb25UeXBlcy5yYW5nZSxcclxuICAgICAgICAgICAgY29uZmlnOmNvbmZpZ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9tZXNzYWdlLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IFJlcXVpcmVkQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcmVxdWlyZWQtY29uZmlnXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWQoY29uZmlnPzpSZXF1aXJlZENvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLHBhcmFtZXRlckluZGV4PzogbnVtYmVyXHJcbiAgICApIHtcclxuICAgICAgICB2YXIgZGVjb3JhdG9yQ29uZmlndXJhdGlvbjogRGVjb3JhdG9yQ29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgICAgICAgcHJvcGVydHlJbmRleDogcGFyYW1ldGVySW5kZXgsXHJcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlLZXksXHJcbiAgICAgICAgICAgIGFubm90YXRpb25UeXBlOiBBbm5vdGF0aW9uVHlwZXMucmVxdWlyZWQsXHJcbiAgICAgICAgICAgIGNvbmZpZzpjb25maWdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9tZXNzYWdlLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBwZXJDYXNlKGNvbmZpZz86TWVzc2FnZUNvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLnVwcGVyQ2FzZSxcclxuICAgICAgICAgICAgY29uZmlnOmNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNQcm9wZXJ0eUtleSA9IChwcm9wZXJ0eUtleSAhPSB1bmRlZmluZWQpO1xyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkQW5ub3RhdGlvbighaXNQcm9wZXJ0eUtleSA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvciwgZGVjb3JhdG9yQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5pbXBvcnQgeyBUaW1lQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvdGltZS1jb25maWdcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0aW1lKGNvbmZpZz86IFRpbWVDb25maWcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoXHJcbiAgICAgICAgdGFyZ2V0OiBPYmplY3QsXHJcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZywgcGFyYW1ldGVySW5kZXg/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHZhciBkZWNvcmF0b3JDb25maWd1cmF0aW9uOiBEZWNvcmF0b3JDb25maWd1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eUluZGV4OiBwYXJhbWV0ZXJJbmRleCxcclxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAgYW5ub3RhdGlvblR5cGU6IEFubm90YXRpb25UeXBlcy50aW1lLFxyXG4gICAgICAgICAgICBjb25maWc6IGNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNQcm9wZXJ0eUtleSA9IChwcm9wZXJ0eUtleSAhPSB1bmRlZmluZWQpO1xyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkQW5ub3RhdGlvbighaXNQcm9wZXJ0eUtleSA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvciwgZGVjb3JhdG9yQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5pbXBvcnQgeyBEZWZhdWx0Q29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvZGVmYXVsdC1jb25maWdcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cmwoY29uZmlnPzogRGVmYXVsdENvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLnVybCxcclxuICAgICAgICAgICAgY29uZmlnOiBjb25maWdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuaW1wb3J0IHsgRGVmYXVsdENvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL2RlZmF1bHQtY29uZmlnXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24ganNvbihjb25maWc/OiBEZWZhdWx0Q29uZmlnKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxyXG4gICAgICAgIHRhcmdldDogT2JqZWN0LFxyXG4gICAgICAgIHByb3BlcnR5S2V5OiBzdHJpbmcsIHBhcmFtZXRlckluZGV4PzogbnVtYmVyXHJcbiAgICApIHtcclxuICAgICAgICB2YXIgZGVjb3JhdG9yQ29uZmlndXJhdGlvbjogRGVjb3JhdG9yQ29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgICAgICAgcHJvcGVydHlJbmRleDogcGFyYW1ldGVySW5kZXgsXHJcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlLZXksXHJcbiAgICAgICAgICAgIGFubm90YXRpb25UeXBlOiBBbm5vdGF0aW9uVHlwZXMuanNvbixcclxuICAgICAgICAgICAgY29uZmlnOiBjb25maWdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuaW1wb3J0IHsgUmVsYXRpb25hbE9wZXJhdG9yQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcmVsYXRpb25hbC1vcGVyYXRvci1jb25maWdcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBncmVhdGVyVGhhbihjb25maWc6UmVsYXRpb25hbE9wZXJhdG9yQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxyXG4gICAgICAgIHRhcmdldDogT2JqZWN0LFxyXG4gICAgICAgIHByb3BlcnR5S2V5OiBzdHJpbmcsIHBhcmFtZXRlckluZGV4PzogbnVtYmVyXHJcbiAgICApIHtcclxuICAgICAgICB2YXIgZGVjb3JhdG9yQ29uZmlndXJhdGlvbjogRGVjb3JhdG9yQ29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgICAgICAgcHJvcGVydHlJbmRleDogcGFyYW1ldGVySW5kZXgsXHJcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlLZXksXHJcbiAgICAgICAgICAgIGFubm90YXRpb25UeXBlOiBBbm5vdGF0aW9uVHlwZXMuZ3JlYXRlclRoYW4sXHJcbiAgICAgICAgICAgIGNvbmZpZzpjb25maWdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUHJvcGVydHlLZXkgPSAocHJvcGVydHlLZXkgIT0gdW5kZWZpbmVkKTtcclxuICAgICAgICBkZWZhdWx0Q29udGFpbmVyLmFkZEFubm90YXRpb24oIWlzUHJvcGVydHlLZXkgPyB0YXJnZXQgOiB0YXJnZXQuY29uc3RydWN0b3IsIGRlY29yYXRvckNvbmZpZ3VyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGRlZmF1bHRDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2RlZmF1bHRDb250YWluZXInO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29yZS92YWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yTmFtZSB9IGZyb20gXCIuLi91dGlsL2RlY29yYXRvci1uYW1lXCI7XHJcbmltcG9ydCB7IEFubm90YXRpb25UeXBlcyB9IGZyb20gXCIuLi9jb3JlL3ZhbGlkYXRvci5zdGF0aWNcIjtcclxuaW1wb3J0IHsgUmVsYXRpb25hbE9wZXJhdG9yQ29uZmlnIH0gZnJvbSBcIi4uL21vZGVscy9jb25maWcvcmVsYXRpb25hbC1vcGVyYXRvci1jb25maWdcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBncmVhdGVyVGhhbkVxdWFsVG8oY29uZmlnOlJlbGF0aW9uYWxPcGVyYXRvckNvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLmdyZWF0ZXJUaGFuRXF1YWxUbyxcclxuICAgICAgICAgICAgY29uZmlnOmNvbmZpZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNQcm9wZXJ0eUtleSA9IChwcm9wZXJ0eUtleSAhPSB1bmRlZmluZWQpO1xyXG4gICAgICAgIGRlZmF1bHRDb250YWluZXIuYWRkQW5ub3RhdGlvbighaXNQcm9wZXJ0eUtleSA/IHRhcmdldCA6IHRhcmdldC5jb25zdHJ1Y3RvciwgZGVjb3JhdG9yQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZGVmYXVsdENvbnRhaW5lciB9IGZyb20gJy4uL2NvcmUvZGVmYXVsdENvbnRhaW5lcic7XHJcbmltcG9ydCB7IERlY29yYXRvckNvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb3JlL3ZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEZWNvcmF0b3JOYW1lIH0gZnJvbSBcIi4uL3V0aWwvZGVjb3JhdG9yLW5hbWVcIjtcclxuaW1wb3J0IHsgQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIi4uL2NvcmUvdmFsaWRhdG9yLnN0YXRpY1wiO1xyXG5pbXBvcnQgeyBSZWxhdGlvbmFsT3BlcmF0b3JDb25maWcgfSBmcm9tIFwiLi4vbW9kZWxzL2NvbmZpZy9yZWxhdGlvbmFsLW9wZXJhdG9yLWNvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlc3NUaGFuRXF1YWxUbyhjb25maWc6UmVsYXRpb25hbE9wZXJhdG9yQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxyXG4gICAgICAgIHRhcmdldDogT2JqZWN0LFxyXG4gICAgICAgIHByb3BlcnR5S2V5OiBzdHJpbmcsIHBhcmFtZXRlckluZGV4PzogbnVtYmVyXHJcbiAgICApIHtcclxuICAgICAgICB2YXIgZGVjb3JhdG9yQ29uZmlndXJhdGlvbjogRGVjb3JhdG9yQ29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgICAgICAgcHJvcGVydHlJbmRleDogcGFyYW1ldGVySW5kZXgsXHJcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlLZXksXHJcbiAgICAgICAgICAgIGFubm90YXRpb25UeXBlOiBBbm5vdGF0aW9uVHlwZXMubGVzc1RoYW5FcXVhbFRvLFxyXG4gICAgICAgICAgICBjb25maWc6Y29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1Byb3BlcnR5S2V5ID0gKHByb3BlcnR5S2V5ICE9IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRBbm5vdGF0aW9uKCFpc1Byb3BlcnR5S2V5ID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnN0cnVjdG9yLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBkZWZhdWx0Q29udGFpbmVyIH0gZnJvbSAnLi4vY29yZS9kZWZhdWx0Q29udGFpbmVyJztcclxuaW1wb3J0IHsgRGVjb3JhdG9yQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvcmUvdmFsaWRhdG9yLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IERlY29yYXRvck5hbWUgfSBmcm9tIFwiLi4vdXRpbC9kZWNvcmF0b3ItbmFtZVwiO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uVHlwZXMgfSBmcm9tIFwiLi4vY29yZS92YWxpZGF0b3Iuc3RhdGljXCI7XHJcbmltcG9ydCB7IFJlbGF0aW9uYWxPcGVyYXRvckNvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvY29uZmlnL3JlbGF0aW9uYWwtb3BlcmF0b3ItY29uZmlnXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVzc1RoYW4oY29uZmlnOlJlbGF0aW9uYWxPcGVyYXRvckNvbmZpZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcclxuICAgICAgICB0YXJnZXQ6IE9iamVjdCxcclxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLCBwYXJhbWV0ZXJJbmRleD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdmFyIGRlY29yYXRvckNvbmZpZ3VyYXRpb246IERlY29yYXRvckNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5SW5kZXg6IHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5S2V5LFxyXG4gICAgICAgICAgICBhbm5vdGF0aW9uVHlwZTogQW5ub3RhdGlvblR5cGVzLmxlc3NUaGFuLFxyXG4gICAgICAgICAgICBjb25maWc6Y29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1Byb3BlcnR5S2V5ID0gKHByb3BlcnR5S2V5ICE9IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgZGVmYXVsdENvbnRhaW5lci5hZGRBbm5vdGF0aW9uKCFpc1Byb3BlcnR5S2V5ID8gdGFyZ2V0IDogdGFyZ2V0LmNvbnN0cnVjdG9yLCBkZWNvcmF0b3JDb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsidHNsaWJfMS5fX3ZhbHVlcyIsIkluamVjdGFibGUiLCJGb3JtQnVpbGRlciIsIk5nTW9kdWxlIiwiRm9ybXNNb2R1bGUiLCJSZWFjdGl2ZUZvcm1zTW9kdWxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7SUFBQTs7Ozs7Ozs7Ozs7Ozs7QUFjQSxzQkFzRnlCLENBQUM7UUFDdEIsSUFBSSxDQUFDLEdBQUcsT0FBTyxNQUFNLEtBQUssVUFBVSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMs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